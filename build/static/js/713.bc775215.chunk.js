"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[713],{8470:function(e,t,n){var i=n(1413),r=n(4236).Z.div((function(e){var t=e.justifyContent,n=e.alignItems,r=e.flexDirection,l=e.gap,a=e.padding,s=e.margin,d={display:"flex",justifyContent:t,alignItems:n,gap:"number"===typeof l?"".concat(l,"px"):l};return r&&(d.flexDirection=r),a&&(d.padding=a),s&&(d.margin=s),(0,i.Z)({},d)}));t.Z=r},2703:function(e,t,n){var i=n(5671),r=n(3144),l=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"getNameInitial",value:function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,t){if(e.path===t)return e;var n;for(var i in e)if(e.hasOwnProperty(i)&&"object"===typeof e[i]&&(n=this.getRouteInfo(e[i],t)))return n;return n}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var t=parseInt(r(e).substring(0,2),16),n=function(e){return parseInt(r(e).substring(2,4),16)}(e),i=function(e){return parseInt(r(e).substring(4,6),16)}(e);function r(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*t+587*n+114*i)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,t){var n=parseInt(e.substring(1,3),16),i=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);n=parseInt(n*(100+t)/100),i=(i=parseInt(i*(100+t)/100))<255?i:255,r=(r=parseInt(r*(100+t)/100))<255?r:255;var l=1===(n=n<255?n:255).toString(16).length?"0".concat(n.toString(16)):n.toString(16),a=1===i.toString(16).length?"0".concat(i.toString(16)):i.toString(16),s=1===r.toString(16).length?"0".concat(r.toString(16)):r.toString(16);return"#".concat(l).concat(a).concat(s)}},{key:"rgbaToHex",value:function(e){var t=function(e){return e.replace(/^\s+|\s+$/gm,"")},n=e.substring(e.indexOf("(")).split(","),i=parseInt(t(n[0].substring(1)),10),r=parseInt(t(n[1]),10),l=parseInt(t(n[2]),10),a=parseFloat(t(n[3].substring(0,n[3].length-1))).toFixed(2),s=[i.toString(16),r.toString(16),l.toString(16),Math.round(255*a).toString(16).substring(0,2)];return s.forEach((function(e,t){1===e.length&&(s[t]="0"+e)})),"#".concat(s.join(""))}},{key:"getSignNum",value:function(e,t,n){return e>0?t:e<0?n:null}},{key:"antdTableSorter",value:function(e,t,n){return"number"===typeof e[n]&&"number"===typeof t[n]?e[n]-t[n]:"string"===typeof e[n]&&"string"===typeof t[n]?(e=e[n].toLowerCase())>(t=t[n].toLowerCase())?-1:t>e?1:0:void 0}},{key:"filterArray",value:function(e,t,n){var i=e;return e&&(i=e.filter((function(e){return e[t]===n}))),i}},{key:"deleteArrayRow",value:function(e,t,n){var i=e;return e&&(i=e.filter((function(e){return e[t]!==n}))),i}},{key:"wildCardSearch",value:function(e,t){return e=e.filter((function(e){return function(e){for(var n in e)if(null!=e[n]&&-1!==e[n].toString().toUpperCase().indexOf(t.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var t=[];for(var n in e){if(e.hasOwnProperty(n))e[n]&&t.push(n)}return t}}]),e}();t.Z=l},9713:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var i=n(4165),r=n(5861),l=n(9439),a=n(2791),s=n(2999),d=n(7615),o=n(6090),c=n(7309),u=n(7888),m=n(6106),h=n(914),p=n(2835),x=n(3248),v=n(7828),Z=n(43),f=n(1717),_=n(9286),j=n(7007),g=n(3099),y=n(2385),S=n(3388),I=(n(6988),n(8470)),w=n(7295),b=n(2414),k=n(1730),P=n(5987),C=n(814),A=n(184),V=["parentToChild"],F=function(e){var t,n=e.parentToChild,s=(0,P.Z)(e,V),u=d.Z.useForm(),x=(0,l.Z)(u,1)[0],v=(0,a.useState)(!0),Z=(0,l.Z)(v,2),f=Z[0],_=Z[1],g=function(){s.parentFunction(),_(!1)},y=function(e,t,n){o.Z[e]({message:t,description:n})};return(0,A.jsx)(m.Z,{gutter:6,children:(0,A.jsx)(h.Z,{children:(0,A.jsx)(I.Z,{children:(0,A.jsx)("div",{className:"container",children:(0,A.jsx)(C.Z,{title:"Vehicle Settings",visible:f,onOk:g,onCancel:function(){s.parentFunction(),_(!1)},footer:null,children:(0,A.jsxs)(d.Z,{form:x,size:"small",name:"settings_form",onFinish:function(e){return(t=t||(0,r.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.ZP.post("config/store",t);case 3:x.resetFields(),s.parentFunction(),y("success","Vehicle","Vehicle Settings Saved Successfully!"),g(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status&&e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)},children:[(0,A.jsxs)(m.Z,{gutter:[8,8],children:[(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"vehicle_id",hidden:!0,initialValue:n.vehicle_id,children:(0,A.jsx)(p.Z,{type:"text"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"device_imei",hidden:!0,initialValue:n.device_imei,children:(0,A.jsx)(p.Z,{type:"text"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{size:"small",label:"Parking Alert Time",name:"parking_alert_time",initialValue:n.parking_alert_time,children:(0,A.jsx)(p.Z,{placeholder:"Parking Alert Time"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{size:"small",label:"Idle Alert Time",name:"idle_alert_time",initialValue:n.idle_alert_time,children:(0,A.jsx)(p.Z,{placeholder:"Idle Alert Time"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Speed Limit",name:"speed_limit",initialValue:n.speed_limit,children:(0,A.jsx)(p.Z,{placeholder:"Speed Limit"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Expected Mileage",name:"expected_mileage",initialValue:n.expected_mileage,children:(0,A.jsx)(p.Z,{placeholder:"Expected Mileage"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Idle RPM",name:"idle_rpm",initialValue:n.idle_rpm,children:(0,A.jsx)(p.Z,{placeholder:"Idle RPM"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Maximum RPM",name:"max_rpm",initialValue:n.max_rpm,children:(0,A.jsx)(p.Z,{placeholder:"Maximum RPM"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"temp_low",label:"Minimum Temp",initialValue:n.temp_low,children:(0,A.jsx)(p.Z,{placeholder:"Minimum Temperature"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"temp_high",label:"Maximum Temp",initialValue:n.temp_high,children:(0,A.jsx)(p.Z,{placeholder:"Maximum Temperature"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Fuel Fill Limit",name:"fuel_fill_limit",initialValue:n.fuel_fill_limit,children:(0,A.jsx)(p.Z,{placeholder:"Fuel Fill Limit"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Fuel Dip Limit",name:"fuel_dip_limit",initialValue:n.fuel_dip_limit,children:(0,A.jsx)(p.Z,{placeholder:"Fuel Dip Limit"})})})]}),(0,A.jsx)(d.Z.Item,{children:(0,A.jsx)(c.ZP,{type:"primary",htmlType:"submit",children:"Save"})})]})})})})})})},L=["parentToChild"],M=function(e){var t,n=e.parentToChild,s=(0,P.Z)(e,L),u=d.Z.useForm(),x=(0,l.Z)(u,1)[0],v=(0,a.useState)(!0),Z=(0,l.Z)(v,2),f=Z[0],_=Z[1],g=function(){s.parentFunction(),_(!1)},y=function(e,t,n){o.Z[e]({message:t,description:n})};return(0,A.jsx)(m.Z,{gutter:6,children:(0,A.jsx)(h.Z,{children:(0,A.jsx)(I.Z,{children:(0,A.jsx)("div",{className:"container",children:(0,A.jsx)(C.Z,{title:"Vehicle Settings",visible:f,onOk:g,onCancel:function(){s.parentFunction(),_(!1)},footer:null,children:(0,A.jsxs)(d.Z,{form:x,size:"small",name:"settings_form",onFinish:function(e){return(t=t||(0,r.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.vehicle_id=n,e.next=4,j.ZP.post("config/store_all",t);case 4:x.resetFields(),s.parentFunction(),y("success","Vehicle","Vehicle Settings Saved Successfully!"),g(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status&&e.t0.response.data;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)},children:[(0,A.jsxs)(m.Z,{gutter:[12,12],children:[(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"vehicle_id",hidden:!0,initialValue:n.vehicle_id,children:(0,A.jsx)(p.Z,{type:"text"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"device_imei",hidden:!0,initialValue:n.device_imei,children:(0,A.jsx)(p.Z,{type:"text"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{size:"small",label:"Parking Alert Time",name:"parking_alert_time",initialValue:n.parking_alert_time,children:(0,A.jsx)(p.Z,{placeholder:"Parking Alert Time"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{size:"small",label:"Idle Alert Time",name:"idle_alert_time",initialValue:n.idle_alert_time,children:(0,A.jsx)(p.Z,{placeholder:"Idle Alert Time"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Speed Limit",name:"speed_limit",initialValue:n.speed_limit,children:(0,A.jsx)(p.Z,{placeholder:"Speed Limit"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Expected Mileage",name:"expected_mileage",initialValue:n.expected_mileage,children:(0,A.jsx)(p.Z,{placeholder:"Expected Mileage"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Idle RPM",name:"idle_rpm",initialValue:n.idle_rpm,children:(0,A.jsx)(p.Z,{placeholder:"Idle RPM"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Maximum RPM",name:"max_rpm",initialValue:n.max_rpm,children:(0,A.jsx)(p.Z,{placeholder:"Maximum RPM"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"temp_low",label:"Minimum Temp",initialValue:n.temp_low,children:(0,A.jsx)(p.Z,{placeholder:"Minimum Temperature"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{name:"temp_high",label:"Maximum Temp",initialValue:n.temp_high,children:(0,A.jsx)(p.Z,{placeholder:"Maximum Temperature"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Fuel Fill Limit",name:"fuel_fill_limit",initialValue:n.fuel_fill_limit,children:(0,A.jsx)(p.Z,{placeholder:"Fuel Fill Limit"})})}),(0,A.jsx)(h.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(d.Z.Item,{label:"Fuel Dip Limit",name:"fuel_dip_limit",initialValue:n.fuel_dip_limit,children:(0,A.jsx)(p.Z,{placeholder:"Fuel Dip Limit"})})})]}),(0,A.jsx)(d.Z.Item,{children:(0,A.jsx)(c.ZP,{type:"primary",htmlType:"submit",children:"Save"})})]})})})})})})},T=n(2703),O=s.Z.Option,D=function(){var e,t,n,P,C,V,L,D,E,N,q,R,z,U,Y,B,H,K=d.Z.useForm(),$=(0,l.Z)(K,1)[0],G=(0,a.useState)(!1),J=(0,l.Z)(G,2),Q=J[0],W=J[1],X=(0,a.useState)(!1),ee=(0,l.Z)(X,2),te=ee[0],ne=ee[1],ie=(0,a.useState)(!1),re=(0,l.Z)(ie,2),le=re[0],ae=re[1],se=(0,a.useState)([]),de=(0,l.Z)(se,2),oe=de[0],ce=de[1],ue=(0,a.useState)(""),me=(0,l.Z)(ue,2),he=me[0],pe=me[1],xe=(0,a.useState)(!1),ve=(0,l.Z)(xe,2),Ze=ve[0],fe=ve[1],_e=(0,a.useState)([]),je=(0,l.Z)(_e,2),ge=je[0],ye=je[1],Se=(0,a.useState)([]),Ie=(0,l.Z)(Se,2),we=Ie[0],be=Ie[1],ke=(0,a.useState)([]),Pe=(0,l.Z)(ke,2),Ce=Pe[0],Ae=Pe[1],Ve=(0,a.useState)([]),Fe=(0,l.Z)(Ve,2),Le=Fe[0],Me=Fe[1],Te=(0,a.useState)([]),Oe=(0,l.Z)(Te,2),De=Oe[0],Ee=Oe[1],Ne=(0,a.useState)([]),qe=(0,l.Z)(Ne,2),Re=qe[0],ze=qe[1],Ue=(0,a.useState)([]),Ye=(0,l.Z)(Ue,2),Be=Ye[0],He=Ye[1],Ke=(0,a.useState)([]),$e=(0,l.Z)(Ke,2),Ge=$e[0],Je=$e[1],Qe=(0,a.useState)([]),We=(0,l.Z)(Qe,2),Xe=We[0],et=We[1],tt=(0,a.useState)([]),nt=(0,l.Z)(tt,2),it=nt[0],rt=nt[1],lt=(0,a.useState)([]),at=(0,l.Z)(lt,2),st=at[0],dt=at[1],ot=(0,a.useState)([]),ct=(0,l.Z)(ot,2),ut=ct[0],mt=ct[1],ht=(0,a.useState)(""),pt=(0,l.Z)(ht,2),xt=pt[0],vt=pt[1],Zt=(0,a.useState)(""),ft=(0,l.Z)(Zt,2),_t=ft[0],jt=ft[1],gt=(0,a.useState)(""),yt=(0,l.Z)(gt,2),St=yt[0],It=yt[1],wt=(0,a.useState)(""),bt=(0,l.Z)(wt,2),kt=bt[0],Pt=bt[1],Ct=(0,a.useState)(""),At=(0,l.Z)(Ct,2),Vt=At[0],Ft=At[1],Lt=(0,a.useState)(""),Mt=(0,l.Z)(Lt,2),Tt=Mt[0],Ot=Mt[1],Dt=(0,a.useState)(localStorage.getItem("id")||""),Et=(0,l.Z)(Dt,2),Nt=Et[0],qt=Et[1],Rt=(0,a.useState)(localStorage.getItem("role")||""),zt=(0,l.Z)(Rt,2),Ut=zt[0],Yt=zt[1],Bt=function(){fe(!1)},Ht=function(e,t,n){o.Z[e]({message:t,description:n})},Kt=(0,a.useState)(localStorage.getItem("id")||""),$t=(0,l.Z)(Kt,2),Gt=$t[0],Jt=$t[1];(0,a.useEffect)((function(){qt(localStorage.getItem("id")),Yt(localStorage.getItem("role")),function(){(e=e||(0,r.Z)((0,i.Z)().mark((function e(){var t,n,r,l,a,s,d,o,c,u,m,h,p,x;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user_id:Nt},e.next=3,j.ZP.post("role_based_user_list",t).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==Ut&&ye(null===n||void 0===n||null===(r=n.data)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.user_list),2==Ut&&be(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.user_list),3==Ut&&Ae(null===n||void 0===n||null===(d=n.data)||void 0===d||null===(o=d.data)||void 0===o?void 0:o.user_list),4==Ut&&(Ee(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.user_list),Me(null===n||void 0===n||null===(m=n.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.subdealer_list)),5==Ut&&Ee(null===n||void 0===n||null===(p=n.data)||void 0===p||null===(x=p.data)||void 0===x?void 0:x.user_list);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(),en(),rn(),tn(),nn()}),[]);var Qt=[{title:"Type",dataIndex:"vehicle_type"},{title:"Vehicle No",dataIndex:"vehicle_name"},{title:"Sim No",dataIndex:"sim_mob_no"},{title:"Device IMEI",dataIndex:"device_imei"},{title:"License No",dataIndex:"license_no"},{title:"Installation Date",dataIndex:"installation_date"},{title:"Expire Date",dataIndex:"expire_date"},{title:"Client Name",dataIndex:"client_name"},{title:"Actions",key:"actions",fixed:"right",render:function(e,t){return(0,A.jsx)(g.Z,{size:"middle",children:(0,A.jsx)(y.Z,{overlay:Wt(t),placement:"bottomLeft",children:(0,A.jsxs)(c.ZP,{children:["Actions ",(0,A.jsx)(w.Z,{})]})})})}}],Wt=function(e){return(0,A.jsx)(S.Z,{children:(0,A.jsx)(S.Z.Item,{icon:(0,A.jsx)(b.Z,{}),onClick:function(){return Xt(e)},children:"Settings"},"config")})},Xt=function(e){return(q=q||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={vehicle_id:t.id,device_imei:t.device_imei},e.next=4,j.ZP.post("config/show",n);case 4:200===(r=e.sent).status?(l=r.data).success?(a=l.data,pe(a),ne(!0)):alert("API request was successful, but the response indicates an error."):alert("API request failed with status code: "+r.status),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)},en=function(){return(z=z||(0,r.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={user_id:Nt},e.next=4,j.ZP.post("vehicle_list",t);case 4:(n=e.sent).data&&Array.isArray(n.data.data)?(r=n.data.data.map((function(e){return{id:e.id,vehicle_type:e.vehicle_type,vehicle_name:e.vehicle_name,sim_mob_no:e.sim_mob_no,device_imei:e.device_imei,license_no:e.license_no,installation_date:e.installation_date,expire_date:e.expire_date,client_name:e.client_name}})),dt(r),mt(r)):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)},tn=function(){return(U=U||(0,r.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,et([]),t={user_id:Nt},e.next=5,j.ZP.post("sim_stock_list",t);case 5:(n=e.sent).data&&Array.isArray(n.data.data)?et(null===n||void 0===n?void 0:n.data.data):console.error("API request was not successful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)},nn=function(){return(Y=Y||(0,r.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,rt([]),t={user_id:Nt},e.next=5,j.ZP.post("device_stock_list",t);case 5:(n=e.sent).data&&Array.isArray(n.data.data)?rt(null===n||void 0===n?void 0:n.data.data):console.error("API request was not successful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)},rn=function(){return(B=B||(0,r.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze([]),n={user_id:Nt},e.next=4,j.ZP.post("user_plan_list",n).then((function(e){return e})).catch((function(e){return e}));case 4:r=e.sent,ze(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},ln=function(){ne(!1),ae(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:[te&&(0,A.jsx)(F,{parentToChild:he,parentFunction:ln}),le&&(0,A.jsx)(M,{parentToChild:oe,parentFunction:ln})]}),(0,A.jsxs)(u.Z,{title:"Vehicle List",children:[(0,A.jsx)(I.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1}),(0,A.jsxs)(m.Z,{children:[(0,A.jsx)(h.Z,{sm:3,md:6,lg:6,children:(0,A.jsx)(p.Z,{style:{width:"70%"},placeholder:"Search",prefix:(0,A.jsx)(k.Z,{}),onChange:function(e){return function(e){var t=e.currentTarget.value,n=t?st:ut,i=T.Z.wildCardSearch(n,t);dt(i)}(e)}})}),(0,A.jsx)(h.Z,{sm:3,md:6,lg:6,children:(0,A.jsx)(s.Z,{mode:"tags",style:{width:"95%"},placeholder:"Select Vehicle",onChange:function(e){return(H=H||(0,r.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(st)?st.map((function(e){return(0,A.jsx)(O,{value:e.id,children:e.vehicle_name},e.id)})):(0,A.jsx)(O,{value:"Loading",disabled:!0,children:"Loading..."})})}),(0,A.jsx)(h.Z,{sm:2,md:4,lg:4,children:(0,A.jsx)(c.ZP,{type:"primary",ghost:!0,onClick:function(){return(R=R||(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==oe.length?ae(!0):Ht("success","Vehicle","Please Select One Vehicles");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:"Config"})}),(0,A.jsx)(h.Z,{sm:2,md:4,lg:4}),(0,A.jsx)(h.Z,{sm:2,md:4,lg:4,children:(0,A.jsx)(c.ZP,{type:"primary",icon:(0,A.jsx)(_.Z,{}),onClick:function(){fe(!0)},ghost:!0,children:"Add Vehicle"})})]}),(0,A.jsx)("div",{className:"table-responsive",children:(0,A.jsx)(x.Z,{bordered:!0,columns:Qt,dataSource:st,rowKey:"id"})})]}),(0,A.jsx)(v.Z,{placement:"right",closable:!1,onClose:Bt,width:850,open:Ze,title:"Add Vehicle",children:(0,A.jsx)(Z.Z,{spinning:Q,delay:500,children:(0,A.jsxs)(d.Z,{form:$,name:"device_form",onFinish:function(e){return(N=N||(0,r.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W(!0),t.user_id=Nt,n=new Date(t.installation_date),t.installation_date=n.toISOString().split("T")[0],e.next=7,j.ZP.post("vehicle",t);case 7:$.resetFields(),W(!1),Ht("success","Vehicle","Vehicle Added Successfully!"),en(),vt(""),jt(""),Ft(""),Ot(""),tn(),nn(),Bt(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),W(!1),e.t0.response&&403===e.t0.response.status&&e.t0.response.data;case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)},children:[(0,A.jsx)("h5",{children:"Users Details:"}),(0,A.jsxs)(m.Z,{gutter:[10,10],children:[1==Ut&&(0,A.jsx)(h.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(d.Z.Item,{name:"admin_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){return(t=t||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.setFieldValue(""),be([]),Ae([]),Me([]),Ee([]),null==t){e.next=11;break}return l={user_id:t},e.next=9,j.ZP.post("role_based_user_list",l).then((function(e){return e})).catch((function(e){return e}));case 9:a=e.sent,be(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.user_list);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},placeholder:"Select Admin",children:Array.isArray(ge)?ge.map((function(e){return(0,A.jsx)(s.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(1==Ut||2==Ut)&&(0,A.jsx)(h.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(d.Z.Item,{name:"distributor_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){return(n=n||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.setFieldValue(""),Ae(""),Me(""),Ee(""),null==t){e.next=10;break}return l={user_id:t},e.next=8,j.ZP.post("role_based_user_list",l).then((function(e){return e})).catch((function(e){return e}));case 8:a=e.sent,Ae(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.user_list);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},placeholder:"Select Distributor",children:Array.isArray(we)?we.map((function(e){return(0,A.jsx)(O,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(O,{role_id:"3",value:""})})})}),(1==Ut||2==Ut||3==Ut)&&(0,A.jsx)(h.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(d.Z.Item,{name:"dealer_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){return(P=P||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,a,s,d,o,c,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.setFieldValue(""),Me([]),Ee([]),ze([]),et([]),rt([]),null==t){e.next=26;break}return s={user_id:t},e.next=10,j.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 10:return d=e.sent,Ee(null===d||void 0===d||null===(n=d.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.user_list),Me(null===d||void 0===d||null===(l=d.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.subdealer_list),Jt(t),e.next=16,j.ZP.post("user_plan_list",s).then((function(e){return e})).catch((function(e){return e}));case 16:return o=e.sent,ze(null===o||void 0===o?void 0:o.data.data),e.next=20,j.ZP.post("sim_stock_list",s).then((function(e){return e})).catch((function(e){return e}));case 20:return c=e.sent,et(null===c||void 0===c?void 0:c.data.data),e.next=24,j.ZP.post("device_stock_list",s).then((function(e){return e})).catch((function(e){return e}));case 24:u=e.sent,rt(null===u||void 0===u?void 0:u.data.data);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)},placeholder:"Select Dealer",children:Array.isArray(Ce)?Ce.map((function(e){return(0,A.jsx)(O,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(O,{role_id:"4",value:""})})})}),(1==Ut||2==Ut||3==Ut||4==Ut)&&(0,A.jsx)(h.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(d.Z.Item,{name:"subdealer_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){return(C=C||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,a,s,d,o,c,u,m,h,p,x,v,Z,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.setFieldValue(""),Ee(""),ze(""),He(""),et(""),rt(""),jt(""),Ft(""),Ot(""),vt(""),null==t){e.next=31;break}return l={user_id:t},e.next=14,j.ZP.post("role_based_user_list",l).then((function(e){return e})).catch((function(e){return e}));case 14:return a=e.sent,Ee(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.user_list),Jt(t),e.next=19,j.ZP.post("user_plan_list",l).then((function(e){return e})).catch((function(e){return e}));case 19:return s=e.sent,ze(null===s||void 0===s?void 0:s.data.data),e.next=23,j.ZP.post("sim_stock_list",l).then((function(e){return e})).catch((function(e){return e}));case 23:return d=e.sent,et(null===d||void 0===d?void 0:d.data.data),e.next=27,j.ZP.post("device_stock_list",l).then((function(e){return e})).catch((function(e){return e}));case 27:o=e.sent,rt(null===o||void 0===o?void 0:o.data.data),e.next=51;break;case 31:if(4!=Ut){e.next=51;break}return p={user_id:Nt},e.next=35,j.ZP.post("role_based_user_list",p).then((function(e){return e})).catch((function(e){return e}));case 35:return x=e.sent,Ee(null===x||void 0===x||null===(c=x.data)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.user_list),Me(null===x||void 0===x||null===(m=x.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.subdealer_list),Jt(Nt),e.next=41,j.ZP.post("user_plan_list",p).then((function(e){return e})).catch((function(e){return e}));case 41:return v=e.sent,ze(null===v||void 0===v?void 0:v.data.data),e.next=45,j.ZP.post("sim_stock_list",p).then((function(e){return e})).catch((function(e){return e}));case 45:return Z=e.sent,et(null===Z||void 0===Z?void 0:Z.data.data),e.next=49,j.ZP.post("device_stock_list",p).then((function(e){return e})).catch((function(e){return e}));case 49:f=e.sent,rt(null===f||void 0===f?void 0:f.data.data);case 51:case"end":return e.stop()}}),e)})))).apply(this,arguments)},placeholder:"Select SubDealer",children:Array.isArray(Le)&&Le.length>0?Le.map((function(e){return(0,A.jsx)(O,{role_id:"5",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(O,{})})})}),(1==Ut||2==Ut||3==Ut||4==Ut||5==Ut)&&(0,A.jsx)(h.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(d.Z.Item,{name:"client_id",rules:[{required:!0,message:"Please Select Client Name"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(){return(V=V||(0,r.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Je([]),e.next=3,j.ZP.get("vehicle_type").then((function(e){return e})).catch((function(e){return e}));case 3:n=e.sent,Je(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},placeholder:"Select Client",children:Array.isArray(De)?De.map((function(e){return(0,A.jsx)(O,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(O,{role_id:"6",value:""})})})})]}),(0,A.jsx)("h5",{children:"Licence Details:"}),(0,A.jsxs)(m.Z,{gutter:6,children:[(0,A.jsx)(h.Z,{sm:5,md:10,lg:10,xxl:10,children:(0,A.jsx)(d.Z.Item,{name:"plan_id",rules:[{required:!0,message:"Please Select Plan"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Plan",onChange:function(e){return(L=L||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He([]),null==t){e.next=7;break}return n={user_id:Gt,plan_id:t},e.next=5,j.ZP.post("user_license_list",n).then((function(e){return e})).catch((function(e){return e}));case 5:r=e.sent,He(null===r||void 0===r?void 0:r.data.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:Array.isArray(Re)?Re.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.package_name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{value:""})})})}),(0,A.jsx)(h.Z,{sm:5,md:10,lg:10,xxl:10,children:(0,A.jsx)(d.Z.Item,{name:"license_id",rules:[{required:!0,message:"Please Select License"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select License",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(Be)?Be.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.license_no},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})})]}),(0,A.jsx)("h5",{children:"Device Details :"}),(0,A.jsxs)(m.Z,{gutter:6,children:[(0,A.jsx)(h.Z,{sm:3,md:6,lg:6,xxl:6,children:(0,A.jsx)(d.Z.Item,{name:"device_id",rules:[{required:!0,message:"Please Select Device IMEI"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,onChange:function(e){return(D=D||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,a,s,d,o,c,u,m,h,p,x,v,Z,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jt(""),It(""),Pt(""),Ft(""),Ot(""),e.prev=5,e.next=8,j.ZP.get("device/".concat(t));case 8:h=e.sent,p=null===h||void 0===h||null===(n=h.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.device_make_id,x=null===h||void 0===h||null===(l=h.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.device_model_id,v=null===h||void 0===h||null===(s=h.data)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.device_make,Z=null===h||void 0===h||null===(o=h.data)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.device_model,f=null===h||void 0===h||null===(u=h.data)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.uid,jt(f),It(p),Pt(x),Ft(v),Ot(Z),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),console.error("Error fetching device data:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)},placeholder:"Select Device IMEI",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(it)?it.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.device_imei_no},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(0,A.jsx)(h.Z,{sm:3,md:6,lg:6,xxl:6,children:(0,A.jsx)(d.Z.Item,{children:(0,A.jsx)(p.Z,{type:"text",value:_t})})}),(0,A.jsxs)(h.Z,{sm:4,md:8,lg:8,xxl:8,children:[(0,A.jsx)("input",{type:"text",name:"device_make_id",hidden:!0,value:St}),(0,A.jsx)("input",{type:"text",name:"device_model_id",hidden:!0,value:kt}),(0,A.jsx)(d.Z.Item,{children:(0,A.jsx)(p.Z,{type:"textarea",value:Vt+"-"+Tt})})]})]}),(0,A.jsx)("h5",{children:"SIM Details :"}),(0,A.jsxs)(m.Z,{gutter:6,children:[(0,A.jsx)(h.Z,{sm:6,md:10,lg:10,xxl:10,children:(0,A.jsx)(d.Z.Item,{name:"sim_id",rules:[{required:!0,message:"Please Select Sim Mobile No"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Sim",optionFilterProp:"children",onChange:function(e){return(E=E||(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,l,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vt(""),e.prev=1,e.next=4,j.ZP.get("sim/".concat(t));case 4:l=e.sent,(a=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.sim_imei_no)&&vt(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching device data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(Xe)?Xe.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.sim_mob_no1},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(0,A.jsx)(h.Z,{sm:6,md:10,lg:10,xxl:10,children:(0,A.jsx)(d.Z.Item,{children:(0,A.jsx)(p.Z,{type:"text",value:xt})})})]}),(0,A.jsx)("h5",{children:"Vehicle Details :"}),(0,A.jsxs)(m.Z,{gutter:6,children:[(0,A.jsx)(h.Z,{sm:4,md:8,lg:8,xxl:8,children:(0,A.jsx)(d.Z.Item,{name:"vehicle_type_id",rules:[{required:!0,message:"Please Select Vehicle Type"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Vehicle Type",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(Ge)?Ge.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.vehicle_type},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{})})})}),(0,A.jsx)(h.Z,{sm:4,md:8,lg:8,xxl:8,children:(0,A.jsx)(d.Z.Item,{name:"vehicle_name",rules:[{required:!0,message:"Please Enter Vehicle Name"}],children:(0,A.jsx)(p.Z,{type:"text",name:"vehicle_name",placeholder:"Vehicle Name"})})}),(0,A.jsx)(h.Z,{sm:4,md:8,lg:8,xxl:8,children:(0,A.jsx)(d.Z.Item,{name:"installation_date",children:(0,A.jsx)(f.Z,{required:!0,allowClear:!1,format:"YYYY-MM-DD",placeholder:"Installation Date"})})}),(0,A.jsx)(h.Z,{sm:3,md:6,lg:6,xxl:6,children:(0,A.jsx)(d.Z.Item,{name:"service_person_name",children:(0,A.jsx)(p.Z,{type:"text",name:"service_person_name",placeholder:"Service Person Name"})})}),(0,A.jsx)(h.Z,{sm:3,md:6,lg:6,xxl:6,children:(0,A.jsx)(d.Z.Item,{name:"install_person_name",children:(0,A.jsx)(p.Z,{type:"text",name:"install_person_name",placeholder:"Install Person Name"})})}),(0,A.jsx)(h.Z,{sm:4,md:8,lg:8,xxl:8,children:(0,A.jsx)(d.Z.Item,{name:"description",children:(0,A.jsx)(p.Z,{type:"text",name:"description",placeholder:"Description"})})})]}),(0,A.jsx)(m.Z,{children:(0,A.jsx)(d.Z.Item,{children:(0,A.jsx)(c.ZP,{type:"primary",htmlType:"submit",children:"Save"})})})]})})})]})}}}]);
//# sourceMappingURL=713.bc775215.chunk.js.map