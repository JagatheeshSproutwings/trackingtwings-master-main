"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[630],{8470:function(e,r,n){var t=n(1413),s=n(4236).Z.div((function(e){var r=e.justifyContent,n=e.alignItems,s=e.flexDirection,a=e.gap,i=e.padding,l=e.margin,o={display:"flex",justifyContent:r,alignItems:n,gap:"number"===typeof a?"".concat(a,"px"):a};return s&&(o.flexDirection=s),i&&(o.padding=i),l&&(o.margin=l),(0,t.Z)({},o)}));r.Z=s},2703:function(e,r,n){var t=n(5671),s=n(3144),a=function(){function e(){(0,t.Z)(this,e)}return(0,s.Z)(e,null,[{key:"getNameInitial",value:function(e){var r=e.match(/\b\w/g)||[];return((r.shift()||"")+(r.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,r){if(e.path===r)return e;var n;for(var t in e)if(e.hasOwnProperty(t)&&"object"===typeof e[t]&&(n=this.getRouteInfo(e[t],r)))return n;return n}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var r=parseInt(s(e).substring(0,2),16),n=function(e){return parseInt(s(e).substring(2,4),16)}(e),t=function(e){return parseInt(s(e).substring(4,6),16)}(e);function s(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*r+587*n+114*t)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,r){var n=parseInt(e.substring(1,3),16),t=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16);n=parseInt(n*(100+r)/100),t=(t=parseInt(t*(100+r)/100))<255?t:255,s=(s=parseInt(s*(100+r)/100))<255?s:255;var a=1===(n=n<255?n:255).toString(16).length?"0".concat(n.toString(16)):n.toString(16),i=1===t.toString(16).length?"0".concat(t.toString(16)):t.toString(16),l=1===s.toString(16).length?"0".concat(s.toString(16)):s.toString(16);return"#".concat(a).concat(i).concat(l)}},{key:"rgbaToHex",value:function(e){var r=function(e){return e.replace(/^\s+|\s+$/gm,"")},n=e.substring(e.indexOf("(")).split(","),t=parseInt(r(n[0].substring(1)),10),s=parseInt(r(n[1]),10),a=parseInt(r(n[2]),10),i=parseFloat(r(n[3].substring(0,n[3].length-1))).toFixed(2),l=[t.toString(16),s.toString(16),a.toString(16),Math.round(255*i).toString(16).substring(0,2)];return l.forEach((function(e,r){1===e.length&&(l[r]="0"+e)})),"#".concat(l.join(""))}},{key:"getSignNum",value:function(e,r,n){return e>0?r:e<0?n:null}},{key:"antdTableSorter",value:function(e,r,n){return"number"===typeof e[n]&&"number"===typeof r[n]?e[n]-r[n]:"string"===typeof e[n]&&"string"===typeof r[n]?(e=e[n].toLowerCase())>(r=r[n].toLowerCase())?-1:r>e?1:0:void 0}},{key:"filterArray",value:function(e,r,n){var t=e;return e&&(t=e.filter((function(e){return e[r]===n}))),t}},{key:"deleteArrayRow",value:function(e,r,n){var t=e;return e&&(t=e.filter((function(e){return e[r]!==n}))),t}},{key:"wildCardSearch",value:function(e,r){return e=e.filter((function(e){return function(e){for(var n in e)if(null!=e[n]&&-1!==e[n].toString().toUpperCase().indexOf(r.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var r=[];for(var n in e){if(e.hasOwnProperty(n))e[n]&&r.push(n)}return r}}]),e}();r.Z=a},630:function(e,r,n){n.r(r),n.d(r,{User:function(){return E},default:function(){return O}});var t=n(4165),s=n(5861),a=n(9439),i=n(2791),l=n(6090),o=n(6106),u=n(914),c=n(7888),d=n(2835),m=n(7309),h=n(3248),p=n(7615),f=n(1752),Z=n(1730),v=n(9286),x=n(8470),g=n(7007),j=n(2703),y=n(6443),b=n(5987),w=n(2999),S=n(3099),_=n(184),P=["parentToChild"],I=w.Z.Option,C=function(e){var r,n,h=e.parentToChild,f=(0,b.Z)(e,P),Z=p.Z.useForm(),v=(0,a.Z)(Z,1)[0],j=(0,i.useState)(!0),C=(0,a.Z)(j,2),k=C[0],A=C[1],F=(0,i.useState)(),N=(0,a.Z)(F,2),E=N[0],O=N[1],D=(0,i.useState)([]),q=(0,a.Z)(D,2),L=q[0],U=q[1];(0,i.useEffect)((function(){!function(e){(n=n||(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.ZP.get("country");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching countries:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(U)}),[]);var M=function(e,r,n){l.Z[e]({message:r,description:n})};return(0,_.jsx)(o.Z,{gutter:6,children:k&&(0,_.jsx)(u.Z,{children:(0,_.jsx)(c.Z,{title:"Edit User",children:(0,_.jsx)(x.Z,{children:(0,_.jsx)("div",{className:"container",children:(0,_.jsxs)(p.Z,{form:v,size:"small",name:"registrationForm",onFinish:function(e){return(r=r||(0,s.Z)((0,t.Z)().mark((function e(r){var n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.ZP.post("user/update",r);case 3:v.resetFields(),f.parentFunction(),M("success","User","User Updated Successfully!"),A(!k),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status&&(n=e.t0.response.data).message&&"object"===typeof n.message&&((s=n.message).hasOwnProperty("name")&&M("info","Name","Given Name is Already Exists"),s.hasOwnProperty("email")&&M("info","E-Mail ID","Given E-Mail ID is Already Exists"),s.hasOwnProperty("mobile_no")&&M("info","Mobile No","Given Mobile No is Already Exists"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)},layout:"vertical",children:[(0,_.jsxs)(o.Z,{gutter:[8,8],children:[(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{size:"small",label:"User Name",name:"name",initialValue:h[1],rules:[{required:!0,message:"Please enter your name"}],children:(0,_.jsx)(d.Z,{})})}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{size:"small",label:"E-Mail ID",name:"email",initialValue:h[2],rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:(0,_.jsx)(d.Z,{})})}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{size:"small",label:"Mobile No",name:"mobile_no",initialValue:h[3],rules:[{required:!0,message:"Please enter your mobile no"},{type:"text",message:"Please enter a valid mobile no"}],children:(0,_.jsx)(d.Z,{})})}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{size:"small",label:"Country",name:"country_id",initialValue:h[7],rules:[{required:!0,message:"Please Select a Country"}],children:(0,_.jsx)(w.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){O(e)},value:E,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(L)?L.map((function(e){return(0,_.jsx)(I,{value:e.id,children:e.country_name},e.id)})):(0,_.jsx)(I,{value:"Loading",children:"Loading..."})})})})]}),(0,_.jsxs)(o.Z,{align:"middle",children:[(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{hidden:!0,name:"id",initialValue:h[0],children:(0,_.jsx)(d.Z,{})})}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{hidden:!0,name:"role_id",initialValue:h[5],children:(0,_.jsx)(d.Z,{})})})]}),(0,_.jsx)(o.Z,{align:"right",children:(0,_.jsx)(u.Z,{span:12,children:(0,_.jsx)(p.Z.Item,{children:(0,_.jsxs)(S.Z,{wrap:!0,children:[(0,_.jsx)(m.ZP,{type:"primary",style:{backgroundColor:y.uD},success:!0,shape:"round",htmlType:"submit",children:"Update"}),(0,_.jsx)(m.ZP,{type:"primary",shape:"round",children:"Back"})]})})})})]})})})})})})},k=n(43),A=d.Z.TextArea,F=w.Z.Option,N=function(e){var r,n,h,f,Z,v,j,b,P,I=p.Z.useForm(),C=(0,a.Z)(I,1)[0],N=(0,i.useState)(!1),E=(0,a.Z)(N,2),O=E[0],D=E[1],q=(0,i.useState)(""),L=(0,a.Z)(q,2),U=L[0],M=L[1],z=(0,i.useState)([]),V=(0,a.Z)(z,2),R=V[0],T=V[1],G=(0,i.useState)([]),B=(0,a.Z)(G,2),K=B[0],H=B[1],$=(0,i.useState)([]),J=(0,a.Z)($,2),Q=J[0],W=J[1],X=(0,i.useState)([]),Y=(0,a.Z)(X,2),ee=Y[0],re=Y[1],ne=(0,i.useState)([]),te=(0,a.Z)(ne,2),se=te[0],ae=te[1],ie=(0,i.useState)(),le=(0,a.Z)(ie,2),oe=le[0],ue=le[1],ce=(0,i.useState)([]),de=(0,a.Z)(ce,2),me=de[0],he=de[1],pe=(0,i.useState)(),fe=(0,a.Z)(pe,2),Ze=fe[0],ve=fe[1],xe=(0,i.useState)([]),ge=(0,a.Z)(xe,2),je=ge[0],ye=ge[1],be=function(e,r,n){l.Z[e]({message:r,description:n})};function we(e){var r=e;M(r);if(r.match(/[a-z]/g))if(r.match(/[0-9]/g)){if(!(r.length<8))return"OK";be("info","Password","length should be minimum 8")}else be("info","Password","Should contain numbers!");else be("info","Password","Should contain lowercase letters!")}var Se=(0,i.useState)(localStorage.getItem("id")||""),_e=(0,a.Z)(Se,2),Pe=_e[0],Ie=_e[1],Ce=(0,i.useState)(localStorage.getItem("role")||""),ke=(0,a.Z)(Ce,2),Ae=ke[0],Fe=ke[1],Ne=(0,i.useState)(""),Ee=(0,a.Z)(Ne,2),Oe=Ee[0],De=Ee[1],qe=function(){return(n=n||(0,s.Z)((0,t.Z)().mark((function e(){var r,n,s,a,i,l,o,u,c,d,m,h,p,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:Pe},e.next=3,g.ZP.post("role_based_user_list",r).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==Ae&&(console.log("Super Admin"),T(null===n||void 0===n||null===(s=n.data)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.user_list)),2==Ae&&(console.log("Admin"),H(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list)),3==Ae&&(console.log("Distributor"),W(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.user_list)),4==Ae&&(console.log("Dealer"),ae(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.user_list),re(null===n||void 0===n||null===(m=n.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.subdealer_list)),5==Ae&&(console.log("Subdealer"),ae(null===n||void 0===n||null===(p=n.data)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.user_list));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)};(0,i.useEffect)((function(){Ie(localStorage.getItem("id")),Fe(localStorage.getItem("role")),Le(),Ue()}),[]);var Le=function(){return(b=b||(0,s.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={role_id:Ae},e.next=4,g.ZP.post("role_rights_list",r);case 4:(n=e.sent).data.success?he(n.data.data):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)},Ue=function(){return(P=P||(0,s.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.ZP.get("country");case 3:(r=e.sent).data.success?ye(r.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching countries:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)};return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(o.Z,{gutter:6,children:(0,_.jsx)(u.Z,{children:(0,_.jsx)(k.Z,{spinning:O,delay:500,children:(0,_.jsx)(c.Z,{title:"New User",children:(0,_.jsx)(x.Z,{children:(0,_.jsx)("div",{className:"container",children:(0,_.jsxs)(p.Z,{form:C,size:"small",name:"registrationForm",onFinish:function(n){return(r=r||(0,s.Z)((0,t.Z)().mark((function r(n){var s,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(D(!0),"OK"!=we(n.password)){r.next=18;break}return r.prev=3,r.next=6,g.ZP.post("user/store",n);case 6:C.resetFields(),e.parentFunction(),D(!1),be("success","User","User Created Successfully!"),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(3),D(!1),r.t0.response&&403===r.t0.response.status&&(s=r.t0.response.data).message&&"object"===typeof s.message&&((a=s.message).hasOwnProperty("name")&&be("info","Name","Given Name is Already Exists"),a.hasOwnProperty("email")&&be("info","E-Mail ID","Given E-Mail ID is Already Exists"),a.hasOwnProperty("mobile_no")&&be("info","Mobile No","Given Mobile No is Already Exists"));case 16:r.next=19;break;case 18:be("error","Password","Password Should be as per the rules");case 19:case"end":return r.stop()}}),r,null,[[3,12]])})))).apply(this,arguments)},encType:"multipart/form-data",layout:"vertical",children:[(0,_.jsxs)(o.Z,{gutter:[8,8],children:[(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Role",name:"role_id",rules:[{required:!0,message:"Please Select a Role"}],children:(0,_.jsx)(w.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){ue(e),De(e),qe()},value:oe,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(me)?me.map((function(e){return(0,_.jsx)(F,{value:e.id,children:e.name},e.id)})):(0,_.jsx)(F,{value:"Loading",disabled:!0,children:"Loading..."})})})}),1==Ae&&Oe>="3"&&(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Admin",name:"admin_id",rules:[{required:!0,message:"Please Select a Admin"}],children:(0,_.jsx)(w.Z,{onChange:function(e){return(h=h||(0,s.Z)((0,t.Z)().mark((function e(r){var n,s,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.setFieldValue(""),H([]),W([]),re([]),ae([]),a={user_id:r},e.next=8,g.ZP.post("role_based_user_list",a).then((function(e){return e})).catch((function(e){return e}));case 8:i=e.sent,H(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.user_list);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(R)?R.map((function(e){return(0,_.jsx)(w.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(w.Z.Option,{role_id:"2",value:""})})})}),(1==Ae||2==Ae)&&Oe>="4"&&(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Distributor",name:"distributor_id",rules:[{required:!0,message:"Please Select Distributor"}],children:(0,_.jsx)(w.Z,{onChange:function(e){return(f=f||(0,s.Z)((0,t.Z)().mark((function e(r){var n,s,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.setFieldValue(""),W(""),re(""),ae([]),a={user_id:r},e.next=7,g.ZP.post("role_based_user_list",a).then((function(e){return e})).catch((function(e){return e}));case 7:i=e.sent,W(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.user_list);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(K)?K.map((function(e){return(0,_.jsx)(F,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{role_id:"3",value:""})})})}),(1==Ae||2==Ae||3==Ae)&&Oe>="5"&&(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Dealer",name:"dealer_id",rules:[{required:!0,message:"Please Select Dealer"}],children:(0,_.jsx)(w.Z,{onChange:function(e){return(Z=Z||(0,s.Z)((0,t.Z)().mark((function e(r){var n,s,a,i,l,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.setFieldValue(""),re([]),ae([]),l={user_id:r},e.next=6,g.ZP.post("role_based_user_list",l).then((function(e){return e})).catch((function(e){return e}));case 6:o=e.sent,ae(null===o||void 0===o||null===(n=o.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.user_list),re(null===o||void 0===o||null===(a=o.data)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.subdealer_list);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(Q)?Q.map((function(e){return(0,_.jsx)(F,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{role_id:"4",value:""})})})}),(1==Ae||2==Ae||3==Ae||4==Ae)&&Oe>="6"&&(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,_.jsx)(w.Z,{onChange:function(e){return(v=v||(0,s.Z)((0,t.Z)().mark((function e(r){var n,s,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.setFieldValue(""),ae([]),a={user_id:r},e.next=5,g.ZP.post("role_based_user_list",a).then((function(e){return e})).catch((function(e){return e}));case 5:i=e.sent,ae(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.user_list);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(ee)&&ee.length>0?ee.map((function(e){return(0,_.jsx)(F,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{})})})}),(1==Ae||2==Ae||3==Ae||4==Ae||5==Ae)&&Oe>="7"&&(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Customer",name:"customer_id",rules:[{required:!0,message:"Please Select a Role"}],children:(0,_.jsx)(w.Z,{onChange:function(e){return(j=j||(0,s.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(se)?se.map((function(e){return(0,_.jsx)(F,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{})})})})]}),(0,_.jsxs)(o.Z,{gutter:[8,8],children:[(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"User Name",name:"name",rules:[{required:!0,message:"Please enter your name"}],children:(0,_.jsx)(d.Z,{})})}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"E-Mail ID",name:"email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:(0,_.jsx)(d.Z,{})})})]}),(0,_.jsxs)(o.Z,{gutter:[8,8],children:[(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{value:U,label:"Password",name:"password",rules:[{required:!0,message:"Please enter a password"}],children:(0,_.jsx)(d.Z.Password,{})})}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Confirm Password",name:"c_password",rules:[{required:!0,message:"Please confirm your password"},function(e){var r=e.getFieldValue;return{validator:function(e,n){return n&&r("password")!==n?Promise.reject(new Error("Passwords do not match")):Promise.resolve()}}}],children:(0,_.jsx)(d.Z.Password,{})})})]}),(0,_.jsxs)(o.Z,{gutter:[8,8],children:[(0,_.jsxs)(u.Z,{sm:12,md:12,lg:12,children:[" ",(0,_.jsx)(p.Z.Item,{label:"Mobile No",name:"mobile_no",rules:[{required:!0,message:"Please enter your mobile no"},{type:"text",message:"Please enter a valid mobile no"}],children:(0,_.jsx)(d.Z,{})})]}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{label:"Country",name:"country_id",rules:[{required:!0,message:"Please select a country"}],children:(0,_.jsx)(w.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){ve(e)},value:Ze,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(je)?je.map((function(e){return(0,_.jsx)(F,{value:e.id,children:e.country_name},e.id)})):(0,_.jsx)(F,{value:"Loading",children:"Loading..."})})})})]}),(0,_.jsx)(o.Z,{gutter:[8,8],children:(0,_.jsx)(u.Z,{sm:24,md:24,lg:24,children:(0,_.jsx)(p.Z.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please enter your address"}],children:(0,_.jsx)(A,{rows:4,maxLength:100})})})}),(0,_.jsx)(o.Z,{children:(0,_.jsx)(u.Z,{"col-offset":18,sm:24,md:24,lg:24,children:(0,_.jsxs)(S.Z,{wrap:!0,children:[(0,_.jsx)(m.ZP,{type:"primary",style:{backgroundColor:y.uD},success:!0,shape:"round",htmlType:"submit",children:"Save"}),(0,_.jsx)(m.ZP,{type:"primary",shape:"round",children:"Back"})]})})})]})})})})})})})})},E=function(){var e,r,n=(0,i.useState)(),b=(0,a.Z)(n,2),w=b[0],S=b[1],P=(0,i.useState)(),I=(0,a.Z)(P,2),k=I[0],A=I[1],F=(0,i.useState)([]),E=(0,a.Z)(F,2),O=(E[0],E[1]),D=(0,i.useState)([]),q=(0,a.Z)(D,2),L=(q[0],q[1],(0,i.useState)(!1)),U=(0,a.Z)(L,2),M=U[0],z=U[1],V=(0,i.useState)(!1),R=(0,a.Z)(V,2),T=R[0],G=R[1],B=(0,i.useState)(""),K=(0,a.Z)(B,2),H=K[0],$=K[1],J=(0,i.useState)(""),Q=(0,a.Z)(J,2),W=Q[0],X=Q[1],Y=(0,i.useState)(""),ee=(0,a.Z)(Y,2),re=ee[0],ne=ee[1],te=(0,i.useState)(!1),se=(0,a.Z)(te,2),ae=se[0],ie=se[1],le=function(e,r,n){l.Z[e]({message:r,description:n})},oe=localStorage.getItem("id"),ue=localStorage.getItem("role"),ce=function(){z(!1),G(!1),ie(!1),de()},de=function(){return(e=e||(0,s.Z)((0,t.Z)().mark((function e(){var r,n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:oe,role_id:ue},e.prev=1,e.next=4,g.ZP.post("user_list",r);case 4:(n=e.sent).data&&Array.isArray(n.data.data)?(s=n.data.data.map((function(e){return{id:e.id,name:e.name,email:e.email,mobile_no:e.mobile_no,password:e.password,role_id:e.role_id,role:e.role,country_id:e.country_id,country:e.country_name,address:e.address}})),console.log(s),S(s),A(s)):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)};(0,i.useEffect)((function(){de()}),[]);var me=[{title:"Name",dataIndex:"name"},{title:"Email",dataIndex:"email"},{title:"Mobile Number",dataIndex:"mobile_no"},{title:"Role",dataIndex:"role"},{title:"Country",dataIndex:"country"},{title:"Edit",dataIndex:"edit",fixed:"right",render:function(e,r){return(0,_.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){$([e.id,e.name,e.email,e.mobile_no,e.password,e.role_id,e.role,e.country_id,e.country,e.address]),G(!0),ie(!1),z(!1),de()}(r)},children:(0,_.jsx)(f.Z,{})})}}];return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(o.Z,{gutter:6,children:[(0,_.jsx)(u.Z,{sm:24,md:14,lg:14,children:(0,_.jsxs)(c.Z,{title:"User",children:[(0,_.jsxs)(x.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,_.jsxs)(x.Z,{className:"mb-1",mobileFlex:!1,children:[(0,_.jsx)("div",{className:"mr-md-3 mb-3",children:(0,_.jsx)(d.Z,{placeholder:"Search",prefix:(0,_.jsx)(Z.Z,{}),onChange:function(e){return function(e){var r=e.currentTarget.value,n=r?w:k,t=j.Z.wildCardSearch(n,r);S(t),O([])}(e)}})}),(0,_.jsx)("div",{className:"mb-3"})]}),(0,_.jsx)("div",{className:"mb-3",children:(0,_.jsx)(m.ZP,{type:"primary",icon:(0,_.jsx)(v.Z,{}),ghost:!0,onClick:function(){z(!1),G(!1),ie(!0)},children:"Upload Logo"})}),(0,_.jsx)("div",{className:"mb-3",children:(0,_.jsx)(m.ZP,{type:"primary",icon:(0,_.jsx)(v.Z,{}),ghost:!0,onClick:function(){z(!0),G(!1),ie(!1)},children:"Add User"})})]}),(0,_.jsx)("div",{className:"table-responsive",children:(0,_.jsx)(h.Z,{bordered:!0,columns:me,dataSource:w,rowKey:"id"})})]})}),(0,_.jsxs)(u.Z,{sm:24,md:10,lg:10,children:[M&&(0,_.jsx)(N,{parentFunction:ce}),T&&(0,_.jsx)(C,{parentToChild:H,parentFunction:ce},H[0]),ae&&(0,_.jsx)(c.Z,{children:(0,_.jsx)(x.Z,{children:(0,_.jsxs)("div",{className:"container",children:[(0,_.jsxs)(o.Z,{gutter:[8,8],children:[(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{size:"small",label:"Domain Name",name:"domain_name",children:(0,_.jsx)(d.Z,{type:"text",onChange:function(e){return X(e.target.value)}})})}),(0,_.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(p.Z.Item,{size:"small",label:"Login Image",name:"login_image",children:(0,_.jsx)(d.Z,{type:"file",onChange:function(e){return ne(e.target.files[0])}})})})]}),(0,_.jsx)(m.ZP,{size:"small",type:"primary",style:{backgroundColor:y.uD},success:!0,shape:"round",onClick:function(){return(r=r||(0,s.Z)((0,t.Z)().mark((function e(){var r,n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn(W,re),(r=new FormData).append("domain_name",W),r.append("login_image",re),e.prev=4,e.next=7,g.ZP.post("login_image_save",r);case 7:le("success","Data","Data Saved Successfully!"),ne(""),X(""),ie(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),e.t0.response&&403===e.t0.response.status&&(n=e.t0.response.data).message&&"object"===typeof n.message&&((s=n.message).hasOwnProperty("domain_name")&&le("info","Domain","Domain Name Required"),s.hasOwnProperty("login_image")&&le("info","Image","Login Image Required"));case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)},children:"SAVE"})]})})})]})]})})},O=E},1752:function(e,r,n){n.d(r,{Z:function(){return o}});var t=n(1413),s=n(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=n(8711),l=function(e,r){return s.createElement(i.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:a}))};l.displayName="EditOutlined";var o=s.forwardRef(l)},914:function(e,r,n){var t=n(9752);r.Z=t.Z},6106:function(e,r,n){var t=n(7545);r.Z=t.Z}}]);
//# sourceMappingURL=630.3ca77c0c.chunk.js.map