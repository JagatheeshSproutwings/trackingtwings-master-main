"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[554],{8470:function(e,r,n){var i=n(1413),t=n(4236).Z.div((function(e){var r=e.justifyContent,n=e.alignItems,t=e.flexDirection,s=e.gap,a=e.padding,l=e.margin,c={display:"flex",justifyContent:r,alignItems:n,gap:"number"===typeof s?"".concat(s,"px"):s};return t&&(c.flexDirection=t),a&&(c.padding=a),l&&(c.margin=l),(0,i.Z)({},c)}));r.Z=t},4951:function(e,r,n){n.r(r);var i=n(4165),t=n(5861),s=n(9439),a=n(5987),l=n(2791),c=n(2999),o=n(7615),d=n(6090),u=n(6106),p=n(914),v=n(7888),m=n(7309),h=n(7007),Z=n(8470),f=n(184),x=["parentToChild"],_=c.Z.Option;r.default=function(e){var r=e.parentToChild,n=(0,a.Z)(e,x),j=o.Z.useForm(),g=(0,s.Z)(j,1)[0],y=(0,l.useState)(!0),w=(0,s.Z)(y,2),S=w[0],b=w[1],k=(0,l.useState)([]),I=(0,s.Z)(k,2),D=I[0],P=I[1],C=(0,l.useState)([]),A=(0,s.Z)(C,2),F=A[0],L=A[1],E=(0,l.useState)([]),M=(0,s.Z)(E,2),N=M[0],O=M[1],z=(0,l.useState)([]),q=(0,s.Z)(z,2),T=q[0],V=q[1],U=function(){b(!S)},B=(0,l.useState)(localStorage.getItem("id")||""),K=(0,s.Z)(B,2),R=K[0],H=K[1],G=(0,l.useState)(localStorage.getItem("role")||""),J=(0,s.Z)(G,2),Q=J[0],W=J[1],X=function(e,r,n){d.Z[e]({message:r,description:n})},Y=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var r,n,t,s,a,l,c,o,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:R},e.next=3,h.ZP.post("role_based_user_list",r).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==Q&&(console.log("Super Admin"),P(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.user_list)),2==Q&&(console.log("Admin"),L(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.user_list)),3==Q&&(console.log("Distributor"),O(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.user_list)),4==Q&&(console.log("Dealer"),V(null===n||void 0===n||null===(d=n.data)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.subdealer_list));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.setFieldValue(""),L([]),O([]),V([]),s={user_id:r},e.next=7,h.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 7:a=e.sent,L(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_list);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),ee=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.setFieldValue(""),O(""),V(""),s={user_id:r},e.next=6,h.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 6:a=e.sent,O(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_list);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),re=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.setFieldValue(""),V([]),s={user_id:r},e.next=5,h.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 5:a=e.sent,V(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.subdealer_list);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){H(localStorage.getItem("id")),W(localStorage.getItem("role")),Y()}),[]);var ne=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Sim"!=r[1]){e.next=10;break}return t.id=r[0],e.next=4,h.ZP.post("sim_transfer",t);case 4:g.resetFields(),n.parentFunction(),X("success","Device","Sim Transfered Successfully!"),U(),e.next=18;break;case 10:if("Device"!=r[1]){e.next=18;break}return t.id=r[0],e.next=14,h.ZP.post("device_transfer",t);case 14:g.resetFields(),n.parentFunction(),X("success","Device","Device Transfered Successfully!"),U();case 18:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,f.jsx)(u.Z,{gutter:6,children:S&&(0,f.jsx)(p.Z,{children:(0,f.jsx)(v.Z,{title:"Assign Form",children:(0,f.jsx)(Z.Z,{children:(0,f.jsx)("div",{className:"container",children:(0,f.jsxs)(o.Z,{layout:"vertical",size:"small",onFinish:ne,children:[(0,f.jsx)(p.Z,{sm:12,md:12,lg:12,children:1==Q&&(0,f.jsx)(o.Z.Item,{label:"Admin",name:"admin_id",children:(0,f.jsx)(c.Z,{onChange:$,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(D)?D.map((function(e){return(0,f.jsx)(c.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,f.jsx)(c.Z.Option,{role_id:"2",value:""})})})}),(0,f.jsx)(p.Z,{sm:12,md:12,lg:12,children:(1==Q||2==Q)&&(0,f.jsx)(o.Z.Item,{label:"Distributor",name:"distributor_id",children:(0,f.jsx)(c.Z,{onChange:ee,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(F)?F.map((function(e){return(0,f.jsx)(_,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,f.jsx)(_,{role_id:"3",value:""})})})}),(0,f.jsx)(p.Z,{sm:12,md:12,lg:12,children:(1==Q||2==Q||3==Q)&&(0,f.jsx)(o.Z.Item,{label:"Dealer",name:"dealer_id",children:(0,f.jsx)(c.Z,{onChange:re,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(N)?N.map((function(e){return(0,f.jsx)(_,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,f.jsx)(_,{role_id:"4",value:""})})})}),(0,f.jsx)(p.Z,{sm:12,md:12,lg:12,children:(1==Q||2==Q||3==Q||4==Q)&&(0,f.jsx)(o.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,f.jsx)(c.Z,{allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(T)&&T.length>0?T.map((function(e){return(0,f.jsx)(_,{role_id:"5",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,f.jsx)(_,{})})})}),(0,f.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"Assign"})]})})})})})})}},4554:function(e,r,n){n.r(r),n.d(r,{Device:function(){return A},default:function(){return F}});var i=n(1413),t=n(4165),s=n(5861),a=n(9439),l=n(2791),c=n(6106),o=n(914),d=n(7888),u=n(2835),p=n(7309),v=n(9004),m=n(1752),h=n(1730),Z=n(9286),f=n(8470),x=n(7007),_=n(2999),j=n(7615),g=n(6090),y=n(3099),w=n(184),S=_.Z.Option,b=function(e){var r=j.Z.useForm(),n=(0,a.Z)(r,1)[0],i=(0,l.useState)(),v=(0,a.Z)(i,2),m=v[0],h=v[1],Z=(0,l.useState)([]),b=(0,a.Z)(Z,2),k=b[0],I=b[1],D=(0,l.useState)(),P=(0,a.Z)(D,2),C=P[0],A=P[1],F=(0,l.useState)([]),L=(0,a.Z)(F,2),E=L[0],M=L[1],N=(0,l.useState)(),O=(0,a.Z)(N,2),z=O[0],q=O[1],T=(0,l.useState)([]),V=(0,a.Z)(T,2),U=V[0],B=V[1],K=function(e,r,n){g.Z[e]({message:r,description:n})};(0,l.useEffect)((function(){!function(e){H.apply(this,arguments)}(I),function(e){G.apply(this,arguments)}(M),function(e){J.apply(this,arguments)}(B)}),[]);var R=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(i){var s,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s={supplier_id:i.supplier_id,device_make_id:i.device_make_id,device_model_id:i.device_model_id,device_imei_no:i.device_imei_no,uid:i.uid,ccid:i.ccid},r.prev=1,r.next=4,x.ZP.post("device/store",s);case 4:n.resetFields(),e.parentFunction(),K("success","Device","Device Inserted Successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),r.t0.response&&403===r.t0.response.status&&(a=r.t0.response.data).message&&"object"===typeof a.message&&a.message.hasOwnProperty("device_imei_no")&&K("info","Device IMEI No","Device IMEI No is Already Exists");case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}();function H(){return H=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("supplier");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),H.apply(this,arguments)}function G(){return G=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("device_make");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),G.apply(this,arguments)}function J(){return J=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("device_model");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),J.apply(this,arguments)}return(0,w.jsx)(c.Z,{gutter:6,children:(0,w.jsx)(o.Z,{children:(0,w.jsx)(d.Z,{title:"New Device",children:(0,w.jsx)(f.Z,{children:(0,w.jsx)("div",{className:"container",children:(0,w.jsxs)(j.Z,{form:n,size:"small",name:"registrationForm",onFinish:R,layout:"vertical",children:[(0,w.jsxs)(c.Z,{gutter:[8,8],children:[(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{size:"small",label:"Supplier",name:"supplier_id",rules:[{required:!0,message:"Please Select a Supplier"}],children:(0,w.jsx)(_.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",placeholder:"Select Supplier",onChange:function(e){h(e)},value:m,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(k)?k.map((function(e){return(0,w.jsx)(S,{value:e.id,children:e.supplier_name},e.id)})):(0,w.jsx)(S,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{size:"small",label:"Device Make",name:"device_make_id",rules:[{required:!0,message:"Please Select a Device Make"}],children:(0,w.jsx)(_.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Device Make",optionFilterProp:"children",onChange:function(e){A(e)},value:C,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(E)?E.map((function(e){return(0,w.jsx)(S,{value:e.id,children:e.device_make},e.id)})):(0,w.jsx)(S,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{size:"small",label:"Device Model",name:"device_model_id",rules:[{required:!0,message:"Please Select a Device Model"}],children:(0,w.jsx)(_.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Device Model",optionFilterProp:"children",onChange:function(e){q(e)},value:z,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(U)?U.map((function(e){return(0,w.jsx)(S,{value:e.id,children:e.device_model},e.id)})):(0,w.jsx)(S,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{size:"small",label:"Device IMEI No",name:"device_imei_no",rules:[{required:!0,message:"Please enter a Device IMEI No"}],children:(0,w.jsx)(u.Z,{})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{size:"small",label:"Device UID",name:"uid",children:(0,w.jsx)(u.Z,{})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{size:"small",label:"Device CCID",name:"ccid",children:(0,w.jsx)(u.Z,{})})})]}),(0,w.jsx)(c.Z,{align:"middle",children:(0,w.jsx)(o.Z,{span:12,children:(0,w.jsx)(j.Z.Item,{children:(0,w.jsxs)(y.Z,{wrap:!0,children:[(0,w.jsx)(p.ZP,{type:"primary",shape:"round",htmlType:"submit",children:"Save"}),(0,w.jsx)(p.ZP,{type:"primary",shape:"round",children:"Back"})]})})})})]})})})})})})},k=n(5987),I=["parentToChild"],D=_.Z.Option,P=function(e){var r=e.parentToChild,n=(0,k.Z)(e,I),i=j.Z.useForm(),v=(0,a.Z)(i,1)[0],m=(0,l.useState)(),h=(0,a.Z)(m,2),Z=h[0],S=h[1],b=(0,l.useState)([]),P=(0,a.Z)(b,2),C=P[0],A=P[1],F=(0,l.useState)(),L=(0,a.Z)(F,2),E=L[0],M=L[1],N=(0,l.useState)([]),O=(0,a.Z)(N,2),z=O[0],q=O[1],T=(0,l.useState)(),V=(0,a.Z)(T,2),U=V[0],B=V[1],K=(0,l.useState)([]),R=(0,a.Z)(K,2),H=R[0],G=R[1],J=(0,l.useState)(!0),Q=(0,a.Z)(J,2),W=Q[0],X=Q[1],Y=function(e,r,n){g.Z[e]({message:r,description:n})};(0,l.useEffect)((function(){!function(e){ee.apply(this,arguments)}(A),function(e){re.apply(this,arguments)}(q),function(e){ne.apply(this,arguments)}(G)}),[]);var $=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(i){var s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={id:r[0],supplier_id:i.supplier_id,device_make_id:i.device_make_id,device_model_id:i.device_model_id,device_imei_no:i.device_imei_no,uid:i.uid,ccid:i.ccid},e.prev=1,e.next=4,x.ZP.post("device/update",s);case 4:v.resetFields(),n.parentFunction(),Y("success","Device","Device Updated Successfully!"),X(!W),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response&&403===e.t0.response.status&&(a=e.t0.response.data).message&&"object"===typeof a.message&&a.message.hasOwnProperty("device_imei_no")&&Y("info","Device IMEI No","Device IMEI No is Already Exists");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r){return e.apply(this,arguments)}}();function ee(){return ee=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("supplier");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ee.apply(this,arguments)}function re(){return re=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("device_make");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),re.apply(this,arguments)}function ne(){return ne=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("device_model");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ne.apply(this,arguments)}return(0,w.jsx)(c.Z,{gutter:6,children:W&&(0,w.jsx)(o.Z,{children:(0,w.jsx)(d.Z,{title:"Edit Device",children:(0,w.jsx)(f.Z,{children:(0,w.jsx)("div",{className:"container",children:(0,w.jsxs)(j.Z,{size:"small",name:"registrationForm",onFinish:$,layout:"vertical",children:[(0,w.jsxs)(c.Z,{gutter:[8,8],children:[(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{initialValue:r[1],size:"small",label:"Supplier",name:"supplier_id",rules:[{required:!0,message:"Please Select a Supplier"}],children:(0,w.jsx)(_.Z,{showSearch:!0,placeholder:"Select Supplier",optionFilterProp:"children",onChange:function(e){S(e)},value:Z,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(C)?C.map((function(e){return(0,w.jsx)(D,{value:e.id,children:e.supplier_name},e.id)})):(0,w.jsx)(D,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{initialValue:r[3],size:"small",label:"Device Make",name:"device_make_id",rules:[{required:!0,message:"Please Select a Device Make"}],children:(0,w.jsx)(_.Z,{showSearch:!0,placeholder:"Select Device Make",optionFilterProp:"children",onChange:function(e){M(e)},value:E,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(z)?z.map((function(e){return(0,w.jsx)(D,{value:e.id,children:e.device_make},e.id)})):(0,w.jsx)(D,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{initialValue:r[5],size:"small",label:"Device Model",name:"device_model_id",rules:[{required:!0,message:"Please Select a Device Model"}],children:(0,w.jsx)(_.Z,{showSearch:!0,placeholder:"Select Device Model",optionFilterProp:"children",onChange:function(e){B(e)},value:U,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(H)?H.map((function(e){return(0,w.jsx)(D,{value:e.id,children:e.device_model},e.id)})):(0,w.jsx)(D,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{initialValue:r[7],size:"small",label:"Device IMEI No",name:"device_imei_no",rules:[{required:!0,message:"Please enter a Device IMEI No"}],children:(0,w.jsx)(u.Z,{})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{initialValue:r[8],size:"small",label:"Device UID",name:"uid",children:(0,w.jsx)(u.Z,{})})}),(0,w.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,w.jsx)(j.Z.Item,{initialValue:r[9],size:"small",label:"Device CCID",name:"ccid",children:(0,w.jsx)(u.Z,{})})})]}),(0,w.jsx)(c.Z,{align:"middle",children:(0,w.jsx)(o.Z,{span:12,children:(0,w.jsx)(j.Z.Item,{children:(0,w.jsxs)(y.Z,{wrap:!0,children:[(0,w.jsx)(p.ZP,{type:"primary",shape:"round",htmlType:"submit",children:"Update"}),(0,w.jsx)(p.ZP,{type:"primary",shape:"round",children:"Back"})]})})})})]})})})})})})},C=n(4951),A=function(){var e=(0,l.useState)([]),r=(0,a.Z)(e,2),n=r[0],_=r[1],j=(0,l.useState)([]),g=(0,a.Z)(j,2),y=g[0],S=g[1],k=(0,l.useState)(!1),I=(0,a.Z)(k,2),D=I[0],A=I[1],F=(0,l.useState)(!1),L=(0,a.Z)(F,2),E=L[0],M=L[1],N=(0,l.useState)(!1),O=(0,a.Z)(N,2),z=O[0],q=O[1],T=(0,l.useState)(""),V=(0,a.Z)(T,2),U=V[0],B=V[1],K=(0,l.useState)(""),R=(0,a.Z)(K,2),H=R[0],G=R[1],J=function(){console.log(n),Q()},Q=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var r,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.post("device_list");case 3:(r=e.sent).data&&Array.isArray(r.data.data)?(n=r.data.data.map((function(e){return{id:e.id,supplier_id:e.supplier_id,supplier_name:e.supplier_name,device_imei_no:e.device_imei_no,ccid:e.ccid,uid:e.uid,device_make_id:e.device_make_id,device_model_id:e.device_model_id,device_make:e.device_make,device_model:e.device_model}})),_(n)):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function W(e){A(!1),M(!1),q(!0);var r=e.id,n=e.device_imei_no;G([r,"Device",n])}(0,l.useEffect)((function(){Q(_)}),[]);var X=[{title:"Supplier Name",dataIndex:"supplier_name"},{title:"Device No",dataIndex:"device_imei_no"},{title:"Device Make",dataIndex:"device_make"},{title:"Device Model",dataIndex:"device_model"},{title:"Edit",dataIndex:"edit",render:function(e,r){return(0,w.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){B([e.id,e.supplier_id,e.supplier_name,e.device_make_id,e.device_make,e.device_model_id,e.device_model,e.device_imei_no,e.ccid,e.uid]),M(!0),A(!1),q(!1)}(r)},children:(0,w.jsx)(m.Z,{})})}},{title:"Assign",dataIndex:"edit",render:function(e,r){return(0,w.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){return W(r)},children:[(0,w.jsx)(m.Z,{})," "]})}}],Y={onChange:function(e,r){S(e)}};return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(c.Z,{gutter:6,children:[(0,w.jsx)(o.Z,{sm:24,md:14,lg:14,children:(0,w.jsxs)(d.Z,{title:"Device",children:[(0,w.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,w.jsxs)(f.Z,{className:"mb-1",mobileFlex:!1,children:[(0,w.jsx)("div",{className:"mr-md-3 mb-3",children:(0,w.jsx)(u.Z,{placeholder:"Search",prefix:(0,w.jsx)(h.Z,{})})}),(0,w.jsx)("div",{className:"mb-3"})]}),(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsx)(p.ZP,{type:"primary",icon:(0,w.jsx)(Z.Z,{}),ghost:!0,onClick:function(){A(!0),M(!1),q(!1)},children:"Add Device"})})]}),(0,w.jsx)("div",{className:"table-responsive",children:(0,w.jsx)(v.Z,{bordered:!0,columns:X,dataSource:n,rowKey:"id",rowSelection:(0,i.Z)({selectedRowKeys:y,type:"checkbox",preserveSelectedRowKeys:!1},Y)})})]})}),(0,w.jsxs)(o.Z,{sm:24,md:10,lg:10,children:[D&&(0,w.jsx)(b,{parentFunction:J}),z&&(0,w.jsx)(C.default,{parentToChild:H,parentFunction:J},H[0]),E&&(0,w.jsx)(P,{parentToChild:U,parentFunction:J},U[0])]})]})})},F=A},1752:function(e,r,n){n.d(r,{Z:function(){return c}});var i=n(1413),t=n(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},a=n(8711),l=function(e,r){return t.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:r,icon:s}))};l.displayName="EditOutlined";var c=t.forwardRef(l)},914:function(e,r,n){var i=n(9752);r.Z=i.Z},6106:function(e,r,n){var i=n(7545);r.Z=i.Z}}]);
//# sourceMappingURL=554.d5ac7881.chunk.js.map