"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[630],{8470:function(e,r,n){var t=n(1413),s=n(4236).Z.div((function(e){var r=e.justifyContent,n=e.alignItems,s=e.flexDirection,a=e.gap,i=e.padding,l=e.margin,o={display:"flex",justifyContent:r,alignItems:n,gap:"number"===typeof a?"".concat(a,"px"):a};return s&&(o.flexDirection=s),i&&(o.padding=i),l&&(o.margin=l),(0,t.Z)({},o)}));r.Z=s},2703:function(e,r,n){var t=n(5671),s=n(3144),a=function(){function e(){(0,t.Z)(this,e)}return(0,s.Z)(e,null,[{key:"getNameInitial",value:function(e){var r=e.match(/\b\w/g)||[];return((r.shift()||"")+(r.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,r){if(e.path===r)return e;var n;for(var t in e)if(e.hasOwnProperty(t)&&"object"===typeof e[t]&&(n=this.getRouteInfo(e[t],r)))return n;return n}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var r=parseInt(s(e).substring(0,2),16),n=function(e){return parseInt(s(e).substring(2,4),16)}(e),t=function(e){return parseInt(s(e).substring(4,6),16)}(e);function s(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*r+587*n+114*t)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,r){var n=parseInt(e.substring(1,3),16),t=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16);n=parseInt(n*(100+r)/100),t=(t=parseInt(t*(100+r)/100))<255?t:255,s=(s=parseInt(s*(100+r)/100))<255?s:255;var a=1===(n=n<255?n:255).toString(16).length?"0".concat(n.toString(16)):n.toString(16),i=1===t.toString(16).length?"0".concat(t.toString(16)):t.toString(16),l=1===s.toString(16).length?"0".concat(s.toString(16)):s.toString(16);return"#".concat(a).concat(i).concat(l)}},{key:"rgbaToHex",value:function(e){var r=function(e){return e.replace(/^\s+|\s+$/gm,"")},n=e.substring(e.indexOf("(")).split(","),t=parseInt(r(n[0].substring(1)),10),s=parseInt(r(n[1]),10),a=parseInt(r(n[2]),10),i=parseFloat(r(n[3].substring(0,n[3].length-1))).toFixed(2),l=[t.toString(16),s.toString(16),a.toString(16),Math.round(255*i).toString(16).substring(0,2)];return l.forEach((function(e,r){1===e.length&&(l[r]="0"+e)})),"#".concat(l.join(""))}},{key:"getSignNum",value:function(e,r,n){return e>0?r:e<0?n:null}},{key:"antdTableSorter",value:function(e,r,n){return"number"===typeof e[n]&&"number"===typeof r[n]?e[n]-r[n]:"string"===typeof e[n]&&"string"===typeof r[n]?(e=e[n].toLowerCase())>(r=r[n].toLowerCase())?-1:r>e?1:0:void 0}},{key:"filterArray",value:function(e,r,n){var t=e;return e&&(t=e.filter((function(e){return e[r]===n}))),t}},{key:"deleteArrayRow",value:function(e,r,n){var t=e;return e&&(t=e.filter((function(e){return e[r]!==n}))),t}},{key:"wildCardSearch",value:function(e,r){return e=e.filter((function(e){return function(e){for(var n in e)if(null!=e[n]&&-1!==e[n].toString().toUpperCase().indexOf(r.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var r=[];for(var n in e){if(e.hasOwnProperty(n))e[n]&&r.push(n)}return r}}]),e}();r.Z=a},630:function(e,r,n){n.r(r),n.d(r,{User:function(){return N},default:function(){return O}});var t=n(4165),s=n(5861),a=n(9439),i=n(2791),l=n(6106),o=n(914),u=n(7888),c=n(2835),d=n(7309),m=n(9004),h=n(1752),p=n(1730),f=n(9286),v=n(8470),Z=n(7007),x=n(2703),g=n(5987),j=n(2999),y=n(7615),b=n(6090),w=n(3099),S=n(6443),_=n(184),P=["parentToChild"],I=j.Z.Option,C=function(e){var r=e.parentToChild,n=(0,g.Z)(e,P),m=y.Z.useForm(),h=(0,a.Z)(m,1)[0],p=(0,i.useState)(!0),f=(0,a.Z)(p,2),x=f[0],C=f[1],k=(0,i.useState)(),A=(0,a.Z)(k,2),F=A[0],E=A[1],N=(0,i.useState)([]),O=(0,a.Z)(N,2),L=O[0],q=O[1];(0,i.useEffect)((function(){!function(e){D.apply(this,arguments)}(q)}),[]);var U=function(e,r,n){b.Z[e]({message:r,description:n})},M=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.post("user/update",r);case 3:h.resetFields(),n.parentFunction(),U("success","User","User Updated Successfully!"),C(!x),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status&&(s=e.t0.response.data).message&&"object"===typeof s.message&&((a=s.message).hasOwnProperty("name")&&U("info","Name","Given Name is Already Exists"),a.hasOwnProperty("email")&&U("info","E-Mail ID","Given E-Mail ID is Already Exists"),a.hasOwnProperty("mobile_no")&&U("info","Mobile No","Given Mobile No is Already Exists"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}();function D(){return D=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("country");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching countries:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),D.apply(this,arguments)}return(0,_.jsx)(l.Z,{gutter:6,children:x&&(0,_.jsx)(o.Z,{children:(0,_.jsx)(u.Z,{title:"Edit User",children:(0,_.jsx)(v.Z,{children:(0,_.jsx)("div",{className:"container",children:(0,_.jsxs)(y.Z,{form:h,size:"small",name:"registrationForm",onFinish:M,layout:"vertical",children:[(0,_.jsxs)(l.Z,{gutter:[8,8],children:[(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{size:"small",label:"User Name",name:"name",initialValue:r[1],rules:[{required:!0,message:"Please enter your name"}],children:(0,_.jsx)(c.Z,{})})}),(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{size:"small",label:"E-Mail ID",name:"email",initialValue:r[2],rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:(0,_.jsx)(c.Z,{})})}),(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{size:"small",label:"Mobile No",name:"mobile_no",initialValue:r[3],rules:[{required:!0,message:"Please enter your mobile no"},{type:"text",message:"Please enter a valid mobile no"}],children:(0,_.jsx)(c.Z,{})})}),(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{size:"small",label:"Country",name:"country_id",initialValue:r[7],rules:[{required:!0,message:"Please Select a Country"}],children:(0,_.jsx)(j.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){E(e)},value:F,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(L)?L.map((function(e){return(0,_.jsx)(I,{value:e.id,children:e.country_name},e.id)})):(0,_.jsx)(I,{value:"Loading",children:"Loading..."})})})})]}),(0,_.jsxs)(l.Z,{align:"middle",children:[(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{hidden:!0,name:"id",initialValue:r[0],children:(0,_.jsx)(c.Z,{})})}),(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{hidden:!0,name:"role_id",initialValue:r[5],children:(0,_.jsx)(c.Z,{})})})]}),(0,_.jsx)(l.Z,{align:"right",children:(0,_.jsx)(o.Z,{span:12,children:(0,_.jsx)(y.Z.Item,{children:(0,_.jsxs)(w.Z,{wrap:!0,children:[(0,_.jsx)(d.ZP,{type:"primary",danger:!0,shape:"round",children:"Reset"}),(0,_.jsx)(d.ZP,{type:"primary",style:{backgroundColor:S.uD},success:!0,shape:"round",htmlType:"submit",children:"Update"})]})})})})]})})})})})})},k=n(43),A=c.Z.TextArea,F=j.Z.Option,E=function(e){var r=y.Z.useForm(),n=(0,a.Z)(r,1)[0],m=(0,i.useState)(!1),h=(0,a.Z)(m,2),p=h[0],f=h[1],x=(0,i.useState)(""),g=(0,a.Z)(x,2),P=g[0],I=g[1],C=(0,i.useState)([]),E=(0,a.Z)(C,2),N=E[0],O=E[1],L=(0,i.useState)([]),q=(0,a.Z)(L,2),U=q[0],M=q[1],D=(0,i.useState)([]),z=(0,a.Z)(D,2),V=z[0],R=z[1],T=(0,i.useState)([]),G=(0,a.Z)(T,2),K=G[0],B=G[1],H=(0,i.useState)([]),W=(0,a.Z)(H,2),$=W[0],J=W[1],Q=(0,i.useState)(),X=(0,a.Z)(Q,2),Y=X[0],ee=X[1],re=(0,i.useState)([]),ne=(0,a.Z)(re,2),te=ne[0],se=ne[1],ae=(0,i.useState)(),ie=(0,a.Z)(ae,2),le=ie[0],oe=ie[1],ue=(0,i.useState)([]),ce=(0,a.Z)(ue,2),de=ce[0],me=ce[1],he=function(e,r,n){b.Z[e]({message:r,description:n})};function pe(e){var r=e;I(r);if(r.match(/[a-z]/g))if(r.match(/[0-9]/g)){if(!(r.length<8))return"OK";he("info","Password","length should be minimum 8")}else he("info","Password","Should contain numbers!");else he("info","Password","Should contain lowercase letters!")}var fe=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(s){var a,i;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f(!0),"OK"!=pe(s.password)){r.next=18;break}return r.prev=3,r.next=6,Z.ZP.post("user/store",s);case 6:n.resetFields(),e.parentFunction(),f(!1),he("success","User","User Created Successfully!"),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(3),f(!1),r.t0.response&&403===r.t0.response.status&&(a=r.t0.response.data).message&&"object"===typeof a.message&&((i=a.message).hasOwnProperty("name")&&he("info","Name","Given Name is Already Exists"),i.hasOwnProperty("email")&&he("info","E-Mail ID","Given E-Mail ID is Already Exists"),i.hasOwnProperty("mobile_no")&&he("info","Mobile No","Given Mobile No is Already Exists"));case 16:r.next=19;break;case 18:he("error","Password","Password Should be as per the rules");case 19:case"end":return r.stop()}}),r,null,[[3,12]])})));return function(e){return r.apply(this,arguments)}}();(0,i.useEffect)((function(){!function(e){Oe.apply(this,arguments)}(se),function(e){Le.apply(this,arguments)}(me)}),[]);var ve=(0,i.useState)(localStorage.getItem("id")||""),Ze=(0,a.Z)(ve,2),xe=Ze[0],ge=Ze[1],je=(0,i.useState)(localStorage.getItem("role")||""),ye=(0,a.Z)(je,2),be=ye[0],we=ye[1],Se=(0,i.useState)(""),_e=(0,a.Z)(Se,2),Pe=_e[0],Ie=_e[1],Ce=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var r,n,s,a,i,l,o,u,c,d,m,h,p,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:xe},e.next=3,Z.ZP.post("role_based_user_list",r).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==be&&(console.log("Super Admin"),O(null===n||void 0===n||null===(s=n.data)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.user_list)),2==be&&(console.log("Admin"),M(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list)),3==be&&(console.log("Distributor"),R(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.user_list)),4==be&&(console.log("Dealer"),J(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.user_list),B(null===n||void 0===n||null===(m=n.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.subdealer_list)),5==be&&(console.log("Subdealer"),J(null===n||void 0===n||null===(p=n.data)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.user_list));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var s,a,i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),M([]),R([]),B([]),J([]),i={user_id:r},e.next=8,Z.ZP.post("role_based_user_list",i).then((function(e){return e})).catch((function(e){return e}));case 8:l=e.sent,M(null===l||void 0===l||null===(s=l.data)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.user_list);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var s,a,i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),R(""),B(""),J([]),i={user_id:r},e.next=7,Z.ZP.post("role_based_user_list",i).then((function(e){return e})).catch((function(e){return e}));case 7:l=e.sent,R(null===l||void 0===l||null===(s=l.data)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.user_list);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var s,a,i,l,o,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),B([]),J([]),o={user_id:r},e.next=6,Z.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 6:u=e.sent,J(null===u||void 0===u||null===(s=u.data)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.user_list),B(null===u||void 0===u||null===(i=u.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.subdealer_list);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var s,a,i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),J([]),i={user_id:r},e.next=5,Z.ZP.post("role_based_user_list",i).then((function(e){return e})).catch((function(e){return e}));case 5:l=e.sent,J(null===l||void 0===l||null===(s=l.data)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.user_list);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function Oe(){return Oe=(0,s.Z)((0,t.Z)().mark((function e(r){var n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={role_id:be},e.next=4,Z.ZP.post("role_rights_list",n);case 4:(s=e.sent).data.success?r(s.data.data):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),Oe.apply(this,arguments)}function Le(){return Le=(0,s.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("country");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching countries:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Le.apply(this,arguments)}return(0,i.useEffect)((function(){ge(localStorage.getItem("id")),we(localStorage.getItem("role")),Ce()}),[]),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(l.Z,{gutter:6,children:(0,_.jsx)(o.Z,{children:(0,_.jsx)(k.Z,{spinning:p,delay:500,children:(0,_.jsx)(u.Z,{title:"New User",children:(0,_.jsx)(v.Z,{children:(0,_.jsx)("div",{className:"container",children:(0,_.jsxs)(y.Z,{form:n,size:"small",name:"registrationForm",onFinish:fe,layout:"vertical",children:[(0,_.jsxs)(l.Z,{gutter:[8,8],children:[(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Role",name:"role_id",rules:[{required:!0,message:"Please Select a Role"}],children:(0,_.jsx)(j.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){ee(e),Ie(e)},value:Y,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(te)?te.map((function(e){return(0,_.jsx)(F,{value:e.id,children:e.name},e.id)})):(0,_.jsx)(F,{value:"Loading",disabled:!0,children:"Loading..."})})})}),1==be&&Pe>="3"&&(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Admin",name:"admin_id",rules:[{required:!0,message:"Please Select a Admin"}],children:(0,_.jsx)(j.Z,{onChange:ke,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(N)?N.map((function(e){return(0,_.jsx)(j.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(j.Z.Option,{role_id:"2",value:""})})})}),(1==be||2==be)&&Pe>="4"&&(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Distributor",name:"distributor_id",rules:[{required:!0,message:"Please Select Distributor"}],children:(0,_.jsx)(j.Z,{onChange:Ae,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(U)?U.map((function(e){return(0,_.jsx)(F,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{role_id:"3",value:""})})})}),(1==be||2==be||3==be)&&Pe>="5"&&(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Dealer",name:"dealer_id",rules:[{required:!0,message:"Please Select Dealer"}],children:(0,_.jsx)(j.Z,{onChange:Fe,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(V)?V.map((function(e){return(0,_.jsx)(F,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{role_id:"4",value:""})})})}),(1==be||2==be||3==be||4==be)&&Pe>="6"&&(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,_.jsx)(j.Z,{onChange:Ee,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(K)&&K.length>0?K.map((function(e){return(0,_.jsx)(F,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{})})})}),(1==be||2==be||3==be||4==be||5==be)&&Pe>="7"&&(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Customer",name:"customer_id",rules:[{required:!0,message:"Please Select a Role"}],children:(0,_.jsx)(j.Z,{onChange:Ne,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray($)?$.map((function(e){return(0,_.jsx)(F,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,_.jsx)(F,{})})})})]}),(0,_.jsxs)(l.Z,{gutter:[8,8],children:[(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"User Name",name:"name",rules:[{required:!0,message:"Please enter your name"}],children:(0,_.jsx)(c.Z,{})})}),(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"E-Mail ID",name:"email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:(0,_.jsx)(c.Z,{})})})]}),(0,_.jsxs)(l.Z,{gutter:[8,8],children:[(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{value:P,label:"Password",name:"password",rules:[{required:!0,message:"Please enter a password"}],children:(0,_.jsx)(c.Z.Password,{})})}),(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Confirm Password",name:"c_password",rules:[{required:!0,message:"Please confirm your password"},function(e){var r=e.getFieldValue;return{validator:function(e,n){return n&&r("password")!==n?Promise.reject(new Error("Passwords do not match")):Promise.resolve()}}}],children:(0,_.jsx)(c.Z.Password,{})})}),(0,_.jsx)("span",{style:{fontSize:"11px",color:"green",fontWeight:"bold",fontFamily:"Segoe UI",fontStyle:"italic",marginTop:"-15px"},children:"*[One UpperCase & LowerCase, One Number, One Symbol, Min. 8 Characters Length]"})]}),(0,_.jsxs)(l.Z,{gutter:[8,8],children:[(0,_.jsxs)(o.Z,{sm:12,md:12,lg:12,children:[" ",(0,_.jsx)(y.Z.Item,{label:"Mobile No",name:"mobile_no",rules:[{required:!0,message:"Please enter your mobile no"},{type:"text",message:"Please enter a valid mobile no"}],children:(0,_.jsx)(c.Z,{})})]}),(0,_.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,_.jsx)(y.Z.Item,{label:"Country",name:"country_id",rules:[{required:!0,message:"Please select a country"}],children:(0,_.jsx)(j.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){oe(e)},value:le,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(de)?de.map((function(e){return(0,_.jsx)(F,{value:e.id,children:e.country_name},e.id)})):(0,_.jsx)(F,{value:"Loading",children:"Loading..."})})})})]}),(0,_.jsx)(l.Z,{gutter:[8,8],children:(0,_.jsx)(o.Z,{sm:24,md:24,lg:24,children:(0,_.jsx)(y.Z.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please enter your address"}],children:(0,_.jsx)(A,{rows:4,maxLength:100})})})}),(0,_.jsx)(l.Z,{children:(0,_.jsx)(o.Z,{"col-offset":18,sm:24,md:24,lg:24,children:(0,_.jsxs)(w.Z,{wrap:!0,children:[(0,_.jsx)(d.ZP,{type:"primary",danger:!0,shape:"round",children:"Reset"}),(0,_.jsx)(d.ZP,{type:"primary",style:{backgroundColor:S.uD},success:!0,shape:"round",htmlType:"submit",children:"Save"})]})})})]})})})})})})})})},N=function(){var e=(0,i.useState)(),r=(0,a.Z)(e,2),n=r[0],g=r[1],j=(0,i.useState)(),y=(0,a.Z)(j,2),b=y[0],w=y[1],S=(0,i.useState)([]),P=(0,a.Z)(S,2),I=(P[0],P[1]),k=(0,i.useState)([]),A=(0,a.Z)(k,2),F=(A[0],A[1],(0,i.useState)(!1)),N=(0,a.Z)(F,2),O=N[0],L=N[1],q=(0,i.useState)(!1),U=(0,a.Z)(q,2),M=U[0],D=U[1],z=(0,i.useState)(""),V=(0,a.Z)(z,2),R=V[0],T=V[1],G=localStorage.getItem("id"),K=localStorage.getItem("role"),B=function(){console.log(n),H()},H=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var r,n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:G,role_id:K},e.prev=1,e.next=4,Z.ZP.post("user_list",r);case 4:(n=e.sent).data&&Array.isArray(n.data.data)?(s=n.data.data.map((function(e){return{id:e.id,name:e.name,email:e.email,mobile_no:e.mobile_no,password:e.password,role_id:e.role_id,role:e.role,country_id:e.country_id,country:e.country_name,address:e.address}})),console.log(s),g(s),w(s)):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){H()}),[]);var W=[{title:"Name",dataIndex:"name"},{title:"Email",dataIndex:"email"},{title:"Mobile Number",dataIndex:"mobile_no"},{title:"Role",dataIndex:"role"},{title:"Country",dataIndex:"country"},{title:"Edit",dataIndex:"edit",fixed:"right",render:function(e,r){return(0,_.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){T([e.id,e.name,e.email,e.mobile_no,e.password,e.role_id,e.role,e.country_id,e.country,e.address]),D(!0),L(!1),H()}(r)},children:(0,_.jsx)(h.Z,{})})}}];return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(l.Z,{gutter:6,children:[(0,_.jsx)(o.Z,{sm:24,md:14,lg:14,children:(0,_.jsxs)(u.Z,{title:"User",children:[(0,_.jsxs)(v.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,_.jsxs)(v.Z,{className:"mb-1",mobileFlex:!1,children:[(0,_.jsx)("div",{className:"mr-md-3 mb-3",children:(0,_.jsx)(c.Z,{placeholder:"Search",prefix:(0,_.jsx)(p.Z,{}),onChange:function(e){return function(e){var r=e.currentTarget.value,t=r?n:b,s=x.Z.wildCardSearch(t,r);g(s),I([])}(e)}})}),(0,_.jsx)("div",{className:"mb-3"})]}),(0,_.jsx)("div",{className:"mb-3",children:(0,_.jsx)(d.ZP,{type:"primary",icon:(0,_.jsx)(f.Z,{}),ghost:!0,onClick:function(){L(!0),D(!1)},children:"Add User"})})]}),(0,_.jsx)("div",{className:"table-responsive",children:(0,_.jsx)(m.Z,{bordered:!0,columns:W,dataSource:n,rowKey:"id"})})]})}),(0,_.jsxs)(o.Z,{sm:24,md:10,lg:10,children:[O&&(0,_.jsx)(E,{parentFunction:B}),M&&(0,_.jsx)(C,{parentToChild:R,parentFunction:B},R[0])]})]})})},O=N},1752:function(e,r,n){n.d(r,{Z:function(){return o}});var t=n(1413),s=n(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=n(8711),l=function(e,r){return s.createElement(i.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:a}))};l.displayName="EditOutlined";var o=s.forwardRef(l)},914:function(e,r,n){var t=n(9752);r.Z=t.Z},6106:function(e,r,n){var t=n(7545);r.Z=t.Z}}]);
//# sourceMappingURL=630.3682529d.chunk.js.map