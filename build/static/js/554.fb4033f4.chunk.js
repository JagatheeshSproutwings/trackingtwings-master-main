"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[554],{8470:function(e,r,n){var i=n(1413),t=n(4236).Z.div((function(e){var r=e.justifyContent,n=e.alignItems,t=e.flexDirection,s=e.gap,a=e.padding,l=e.margin,c={display:"flex",justifyContent:r,alignItems:n,gap:"number"===typeof s?"".concat(s,"px"):s};return t&&(c.flexDirection=t),a&&(c.padding=a),l&&(c.margin=l),(0,i.Z)({},c)}));r.Z=t},2703:function(e,r,n){var i=n(5671),t=n(3144),s=function(){function e(){(0,i.Z)(this,e)}return(0,t.Z)(e,null,[{key:"getNameInitial",value:function(e){var r=e.match(/\b\w/g)||[];return((r.shift()||"")+(r.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,r){if(e.path===r)return e;var n;for(var i in e)if(e.hasOwnProperty(i)&&"object"===typeof e[i]&&(n=this.getRouteInfo(e[i],r)))return n;return n}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var r=parseInt(t(e).substring(0,2),16),n=function(e){return parseInt(t(e).substring(2,4),16)}(e),i=function(e){return parseInt(t(e).substring(4,6),16)}(e);function t(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*r+587*n+114*i)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,r){var n=parseInt(e.substring(1,3),16),i=parseInt(e.substring(3,5),16),t=parseInt(e.substring(5,7),16);n=parseInt(n*(100+r)/100),i=(i=parseInt(i*(100+r)/100))<255?i:255,t=(t=parseInt(t*(100+r)/100))<255?t:255;var s=1===(n=n<255?n:255).toString(16).length?"0".concat(n.toString(16)):n.toString(16),a=1===i.toString(16).length?"0".concat(i.toString(16)):i.toString(16),l=1===t.toString(16).length?"0".concat(t.toString(16)):t.toString(16);return"#".concat(s).concat(a).concat(l)}},{key:"rgbaToHex",value:function(e){var r=function(e){return e.replace(/^\s+|\s+$/gm,"")},n=e.substring(e.indexOf("(")).split(","),i=parseInt(r(n[0].substring(1)),10),t=parseInt(r(n[1]),10),s=parseInt(r(n[2]),10),a=parseFloat(r(n[3].substring(0,n[3].length-1))).toFixed(2),l=[i.toString(16),t.toString(16),s.toString(16),Math.round(255*a).toString(16).substring(0,2)];return l.forEach((function(e,r){1===e.length&&(l[r]="0"+e)})),"#".concat(l.join(""))}},{key:"getSignNum",value:function(e,r,n){return e>0?r:e<0?n:null}},{key:"antdTableSorter",value:function(e,r,n){return"number"===typeof e[n]&&"number"===typeof r[n]?e[n]-r[n]:"string"===typeof e[n]&&"string"===typeof r[n]?(e=e[n].toLowerCase())>(r=r[n].toLowerCase())?-1:r>e?1:0:void 0}},{key:"filterArray",value:function(e,r,n){var i=e;return e&&(i=e.filter((function(e){return e[r]===n}))),i}},{key:"deleteArrayRow",value:function(e,r,n){var i=e;return e&&(i=e.filter((function(e){return e[r]!==n}))),i}},{key:"wildCardSearch",value:function(e,r){return e=e.filter((function(e){return function(e){for(var n in e)if(null!=e[n]&&-1!==e[n].toString().toUpperCase().indexOf(r.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var r=[];for(var n in e){if(e.hasOwnProperty(n))e[n]&&r.push(n)}return r}}]),e}();r.Z=s},4951:function(e,r,n){n.r(r);var i=n(4165),t=n(5861),s=n(9439),a=n(5987),l=n(2791),c=n(2999),o=n(7615),d=n(6090),u=n(6106),p=n(914),v=n(7888),m=n(7309),h=n(7007),f=n(8470),Z=n(184),x=["parentToChild"],g=c.Z.Option;r.default=function(e){var r,n,j,_,y,S=e.parentToChild,w=(0,a.Z)(e,x),b=o.Z.useForm(),I=(0,s.Z)(b,1)[0],k=(0,l.useState)(!0),C=(0,s.Z)(k,2),D=C[0],P=C[1],A=(0,l.useState)([]),F=(0,s.Z)(A,2),L=F[0],E=F[1],M=(0,l.useState)([]),O=(0,s.Z)(M,2),N=O[0],z=O[1],q=(0,l.useState)([]),T=(0,s.Z)(q,2),V=T[0],U=T[1],B=(0,l.useState)([]),R=(0,s.Z)(B,2),H=R[0],K=R[1],$=function(){P(!D)},G=(0,l.useState)(localStorage.getItem("id")||""),J=(0,s.Z)(G,2),Q=J[0],W=J[1],X=(0,l.useState)(localStorage.getItem("role")||""),Y=(0,s.Z)(X,2),ee=Y[0],re=Y[1],ne=function(e,r,n){d.Z[e]({message:r,description:n})};(0,l.useEffect)((function(){W(localStorage.getItem("id")),re(localStorage.getItem("role")),function(){(r=r||(0,t.Z)((0,i.Z)().mark((function e(){var r,n,t,s,a,l,c,o,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:Q},e.next=3,h.ZP.post("role_based_user_list",r).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==ee&&(console.log("Super Admin"),E(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.user_list)),2==ee&&(console.log("Admin"),z(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.user_list)),3==ee&&(console.log("Distributor"),U(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.user_list)),4==ee&&(console.log("Dealer"),K(null===n||void 0===n||null===(d=n.data)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.subdealer_list));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]);return(0,Z.jsx)(u.Z,{gutter:6,children:D&&(0,Z.jsx)(p.Z,{children:(0,Z.jsx)(v.Z,{title:"Assign Form",children:(0,Z.jsx)(f.Z,{children:(0,Z.jsx)("div",{className:"container",children:(0,Z.jsxs)(o.Z,{layout:"vertical",size:"small",onFinish:function(e){return(y=y||(0,t.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Sim"!=S[1]){e.next=10;break}return r.id=S[0],e.next=4,h.ZP.post("sim_transfer",r);case 4:I.resetFields(),w.parentFunction(),ne("success","Device","Sim Transfered Successfully!"),$(),e.next=18;break;case 10:if("Device"!=S[1]){e.next=18;break}return r.id=S[0],e.next=14,h.ZP.post("device_transfer",r);case 14:I.resetFields(),w.parentFunction(),ne("success","Device","Device Transfered Successfully!"),$();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:[(0,Z.jsx)(p.Z,{sm:12,md:12,lg:12,children:1==ee&&(0,Z.jsx)(o.Z.Item,{label:"Admin",name:"admin_id",children:(0,Z.jsx)(c.Z,{onChange:function(e){return(n=n||(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.setFieldValue(""),z([]),U([]),K([]),s={user_id:r},e.next=7,h.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 7:a=e.sent,z(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_list);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(L)?L.map((function(e){return(0,Z.jsx)(c.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(c.Z.Option,{role_id:"2",value:""})})})}),(0,Z.jsx)(p.Z,{sm:12,md:12,lg:12,children:(1==ee||2==ee)&&(0,Z.jsx)(o.Z.Item,{label:"Distributor",name:"distributor_id",children:(0,Z.jsx)(c.Z,{onChange:function(e){return(j=j||(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.setFieldValue(""),U(""),K(""),s={user_id:r},e.next=6,h.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 6:a=e.sent,U(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_list);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(N)?N.map((function(e){return(0,Z.jsx)(g,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(g,{role_id:"3",value:""})})})}),(0,Z.jsx)(p.Z,{sm:12,md:12,lg:12,children:(1==ee||2==ee||3==ee)&&(0,Z.jsx)(o.Z.Item,{label:"Dealer",name:"dealer_id",children:(0,Z.jsx)(c.Z,{onChange:function(e){return(_=_||(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.setFieldValue(""),K([]),s={user_id:r},e.next=5,h.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 5:a=e.sent,K(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.subdealer_list);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(V)?V.map((function(e){return(0,Z.jsx)(g,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(g,{role_id:"4",value:""})})})}),(0,Z.jsx)(p.Z,{sm:12,md:12,lg:12,children:(1==ee||2==ee||3==ee||4==ee)&&(0,Z.jsx)(o.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,Z.jsx)(c.Z,{allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(H)&&H.length>0?H.map((function(e){return(0,Z.jsx)(g,{role_id:"5",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(g,{})})})}),(0,Z.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"Assign"})]})})})})})})}},4554:function(e,r,n){n.r(r),n.d(r,{Device:function(){return A},default:function(){return F}});var i=n(4165),t=n(5861),s=n(9439),a=n(2791),l=n(6106),c=n(914),o=n(7888),d=n(2835),u=n(7309),p=n(3248),v=n(1752),m=n(1730),h=n(9286),f=n(8470),Z=n(7007),x=n(2999),g=n(7615),j=n(6090),_=n(3099),y=n(184),S=x.Z.Option,w=function(e){var r,n,p,v,m=g.Z.useForm(),h=(0,s.Z)(m,1)[0],w=(0,a.useState)(),b=(0,s.Z)(w,2),I=b[0],k=b[1],C=(0,a.useState)([]),D=(0,s.Z)(C,2),P=D[0],A=D[1],F=(0,a.useState)(),L=(0,s.Z)(F,2),E=L[0],M=L[1],O=(0,a.useState)([]),N=(0,s.Z)(O,2),z=N[0],q=N[1],T=(0,a.useState)(),V=(0,s.Z)(T,2),U=V[0],B=V[1],R=(0,a.useState)([]),H=(0,s.Z)(R,2),K=H[0],$=H[1],G=function(e,r,n){j.Z[e]({message:r,description:n})};(0,a.useEffect)((function(){!function(e){(n=n||(0,t.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("supplier");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(A),function(e){(p=p||(0,t.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_make");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(q),function(e){(v=v||(0,t.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_model");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}($)}),[]);return(0,y.jsx)(l.Z,{gutter:6,children:(0,y.jsx)(c.Z,{children:(0,y.jsx)(o.Z,{title:"New Device",children:(0,y.jsx)(f.Z,{children:(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)(g.Z,{form:h,size:"small",name:"registrationForm",onFinish:function(n){return(r=r||(0,t.Z)((0,i.Z)().mark((function r(n){var t,s;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={supplier_id:n.supplier_id,device_make_id:n.device_make_id,device_model_id:n.device_model_id,device_imei_no:n.device_imei_no,uid:n.uid,ccid:n.ccid,description:n.description},r.prev=1,r.next=4,Z.ZP.post("device/store",t);case 4:h.resetFields(),e.parentFunction(),G("success","Device","Device Inserted Successfully!"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),r.t0.response&&403===r.t0.response.status&&(s=r.t0.response.data).message&&"object"===typeof s.message&&s.message.hasOwnProperty("device_imei_no")&&G("info","Device IMEI No","Device IMEI No is Already Exists");case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)},layout:"vertical",children:[(0,y.jsxs)(l.Z,{gutter:[8,8],children:[(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Supplier",name:"supplier_id",rules:[{required:!0,message:"Please Select a Supplier"}],children:(0,y.jsx)(x.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",placeholder:"Select Supplier",onChange:function(e){k(e)},value:I,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(P)?P.map((function(e){return(0,y.jsx)(S,{value:e.id,children:e.supplier_name},e.id)})):(0,y.jsx)(S,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Device Make",name:"device_make_id",rules:[{required:!0,message:"Please Select a Device Make"}],children:(0,y.jsx)(x.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Device Make",optionFilterProp:"children",onChange:function(e){M(e)},value:E,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(z)?z.map((function(e){return(0,y.jsx)(S,{value:e.id,children:e.device_make},e.id)})):(0,y.jsx)(S,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Device Model",name:"device_model_id",rules:[{required:!0,message:"Please Select a Device Model"}],children:(0,y.jsx)(x.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Device Model",optionFilterProp:"children",onChange:function(e){B(e)},value:U,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(K)?K.map((function(e){return(0,y.jsx)(S,{value:e.id,children:e.device_model},e.id)})):(0,y.jsx)(S,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Device IMEI No",name:"device_imei_no",rules:[{required:!0,message:"Please enter a Device IMEI No"}],children:(0,y.jsx)(d.Z,{})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Device UID",name:"uid",children:(0,y.jsx)(d.Z,{})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Device CCID",name:"ccid",children:(0,y.jsx)(d.Z,{})})}),(0,y.jsx)(c.Z,{sm:24,md:24,lg:24,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Description",name:"description",children:(0,y.jsx)(d.Z,{})})})]}),(0,y.jsx)(l.Z,{align:"middle",children:(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(g.Z.Item,{children:(0,y.jsxs)(_.Z,{wrap:!0,children:[(0,y.jsx)(u.ZP,{type:"primary",shape:"round",htmlType:"submit",children:"Save"}),(0,y.jsx)(u.ZP,{type:"primary",shape:"round",children:"Back"})]})})})})]})})})})})})},b=n(5987),I=["parentToChild"],k=x.Z.Option,C=function(e){var r,n,p,v,m=e.parentToChild,h=(0,b.Z)(e,I),S=g.Z.useForm(),w=(0,s.Z)(S,1)[0],C=(0,a.useState)(),D=(0,s.Z)(C,2),P=D[0],A=D[1],F=(0,a.useState)([]),L=(0,s.Z)(F,2),E=L[0],M=L[1],O=(0,a.useState)(),N=(0,s.Z)(O,2),z=N[0],q=N[1],T=(0,a.useState)([]),V=(0,s.Z)(T,2),U=V[0],B=V[1],R=(0,a.useState)(),H=(0,s.Z)(R,2),K=H[0],$=H[1],G=(0,a.useState)([]),J=(0,s.Z)(G,2),Q=J[0],W=J[1],X=(0,a.useState)(!0),Y=(0,s.Z)(X,2),ee=Y[0],re=Y[1],ne=function(e,r,n){j.Z[e]({message:r,description:n})};(0,a.useEffect)((function(){!function(e){(n=n||(0,t.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("supplier");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(M),function(e){(p=p||(0,t.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_make");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(B),function(e){(v=v||(0,t.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_model");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(W)}),[]);return(0,y.jsx)(l.Z,{gutter:6,children:ee&&(0,y.jsx)(c.Z,{children:(0,y.jsx)(o.Z,{title:"Edit Device",children:(0,y.jsx)(f.Z,{children:(0,y.jsxs)("div",{className:"container",children:[m,(0,y.jsxs)(g.Z,{size:"small",name:"registrationForm",onFinish:function(e){return(r=r||(0,t.Z)((0,i.Z)().mark((function e(r){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:m[0],supplier_id:r.supplier_id,device_make_id:r.device_make_id,device_model_id:r.device_model_id,device_imei_no:r.device_imei_no,uid:r.uid,ccid:r.ccid,description:r.description},e.prev=1,e.next=4,Z.ZP.post("device/update",n);case 4:w.resetFields(),h.parentFunction(),ne("success","Device","Device Updated Successfully!"),re(!ee),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response&&403===e.t0.response.status&&(t=e.t0.response.data).message&&"object"===typeof t.message&&t.message.hasOwnProperty("device_imei_no")&&ne("info","Device IMEI No","Device IMEI No is Already Exists");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)},layout:"vertical",children:[(0,y.jsxs)(l.Z,{gutter:[8,8],children:[(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{initialValue:m[1],size:"small",label:"Supplier",name:"supplier_id",rules:[{required:!0,message:"Please Select a Supplier"}],children:(0,y.jsx)(x.Z,{showSearch:!0,placeholder:"Select Supplier",optionFilterProp:"children",onChange:function(e){A(e)},value:P,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(E)?E.map((function(e){return(0,y.jsx)(k,{value:e.id,children:e.supplier_name},e.id)})):(0,y.jsx)(k,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{initialValue:m[3],size:"small",label:"Device Make",name:"device_make_id",rules:[{required:!0,message:"Please Select a Device Make"}],children:(0,y.jsx)(x.Z,{showSearch:!0,placeholder:"Select Device Make",optionFilterProp:"children",onChange:function(e){q(e)},value:z,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(U)?U.map((function(e){return(0,y.jsx)(k,{value:e.id,children:e.device_make},e.id)})):(0,y.jsx)(k,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{initialValue:m[5],size:"small",label:"Device Model",name:"device_model_id",rules:[{required:!0,message:"Please Select a Device Model"}],children:(0,y.jsx)(x.Z,{showSearch:!0,placeholder:"Select Device Model",optionFilterProp:"children",onChange:function(e){$(e)},value:K,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(Q)?Q.map((function(e){return(0,y.jsx)(k,{value:e.id,children:e.device_model},e.id)})):(0,y.jsx)(k,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{initialValue:m[7],size:"small",label:"Device IMEI No",name:"device_imei_no",rules:[{required:!0,message:"Please enter a Device IMEI No"}],children:(0,y.jsx)(d.Z,{})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{initialValue:m[9],size:"small",label:"Device UID",name:"uid",children:(0,y.jsx)(d.Z,{})})}),(0,y.jsx)(c.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(g.Z.Item,{initialValue:m[8],size:"small",label:"Device CCID",name:"ccid",children:(0,y.jsx)(d.Z,{})})}),(0,y.jsx)(c.Z,{sm:24,md:24,lg:24,children:(0,y.jsx)(g.Z.Item,{size:"small",label:"Description",name:"description",initialValue:m[10],children:(0,y.jsx)(d.Z,{})})})]}),(0,y.jsx)(l.Z,{align:"middle",children:(0,y.jsx)(c.Z,{span:12,children:(0,y.jsx)(g.Z.Item,{children:(0,y.jsxs)(_.Z,{wrap:!0,children:[(0,y.jsx)(u.ZP,{type:"primary",shape:"round",htmlType:"submit",children:"Update"}),(0,y.jsx)(u.ZP,{type:"primary",shape:"round",children:"Back"})]})})})})]})]})})})})})},D=n(4951),P=n(2703),A=function(){var e,r=(0,a.useState)([]),n=(0,s.Z)(r,2),x=n[0],g=n[1],j=(0,a.useState)([]),_=(0,s.Z)(j,2),S=_[0],b=_[1],I=(0,a.useState)([]),k=(0,s.Z)(I,2),A=(k[0],k[1]),F=(0,a.useState)([]),L=(0,s.Z)(F,2),E=(L[0],L[1],(0,a.useState)(!1)),M=(0,s.Z)(E,2),O=M[0],N=M[1],z=(0,a.useState)(!1),q=(0,s.Z)(z,2),T=q[0],V=q[1],U=(0,a.useState)(!1),B=(0,s.Z)(U,2),R=B[0],H=B[1],K=(0,a.useState)(""),$=(0,s.Z)(K,2),G=$[0],J=$[1],Q=(0,a.useState)(""),W=(0,s.Z)(Q,2),X=W[0],Y=W[1],ee=function(){V(!1),re()},re=function(){return(e=e||(0,t.Z)((0,i.Z)().mark((function e(){var r,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.post("device_list");case 3:(r=e.sent).data&&Array.isArray(r.data.data)?(n=r.data.data.map((function(e){return{id:e.id,supplier_id:e.supplier_id,supplier_name:e.supplier_name,device_imei_no:e.device_imei_no,ccid:e.ccid,uid:e.uid,device_make_id:e.device_make_id,device_model_id:e.device_model_id,device_make:e.device_make,device_model:e.device_model,description:e.description}})),g(n),b(n)):(g(""),b(""),console.error("API request was not successful")),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),g(""),b(""),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)};function ne(e){N(!1),V(!1),H(!0);var r=e.id,n=e.device_imei_no;Y([r,"Device",n])}(0,a.useEffect)((function(){re()}),[]);var ie=[{title:"Supplier Name",dataIndex:"supplier_name"},{title:"Device No",dataIndex:"device_imei_no"},{title:"Device Make",dataIndex:"device_make"},{title:"Device Model",dataIndex:"device_model"},{title:"Edit",dataIndex:"edit",fixed:"right",render:function(e,r){return(0,y.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){J([e.id,e.supplier_id,e.supplier_name,e.device_make_id,e.device_make,e.device_model_id,e.device_model,e.device_imei_no,e.ccid,e.uid,e.description]),V(!0),N(!1),H(!1)}(r)},children:(0,y.jsx)(v.Z,{})})}},{title:"Assign",dataIndex:"edit",fixed:"right",render:function(e,r){return(0,y.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){return ne(r)},children:[(0,y.jsx)(v.Z,{})," "]})}}];return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(l.Z,{gutter:6,children:[(0,y.jsx)(c.Z,{sm:24,md:14,lg:14,children:(0,y.jsxs)(o.Z,{title:"Device",children:[(0,y.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,y.jsxs)(f.Z,{className:"mb-1",mobileFlex:!1,children:[(0,y.jsx)("div",{className:"mr-md-3 mb-3",children:(0,y.jsx)(d.Z,{placeholder:"Search",prefix:(0,y.jsx)(m.Z,{}),onChange:function(e){return function(e){var r=e.currentTarget.value,n=r?x:S,i=P.Z.wildCardSearch(n,r);g(i),A([])}(e)}})}),(0,y.jsx)("div",{className:"mb-3"})]}),(0,y.jsx)("div",{className:"mb-3",children:(0,y.jsx)(u.ZP,{type:"primary",icon:(0,y.jsx)(h.Z,{}),ghost:!0,onClick:function(){N(!0),V(!1),H(!1)},children:"Add Device"})})]}),(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsx)(p.Z,{bordered:!0,columns:ie,dataSource:x,rowKey:"id"})})]})}),(0,y.jsxs)(c.Z,{sm:24,md:10,lg:10,children:[O&&(0,y.jsx)(w,{parentFunction:ee}),R&&(0,y.jsx)(D.default,{parentToChild:X,parentFunction:ee},X[0]),T&&(0,y.jsx)(C,{parentToChild:G,parentFunction:ee},G[0])]})]})})},F=A},1752:function(e,r,n){n.d(r,{Z:function(){return c}});var i=n(1413),t=n(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},a=n(8711),l=function(e,r){return t.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:r,icon:s}))};l.displayName="EditOutlined";var c=t.forwardRef(l)},914:function(e,r,n){var i=n(9752);r.Z=i.Z},6106:function(e,r,n){var i=n(7545);r.Z=i.Z}}]);
//# sourceMappingURL=554.fb4033f4.chunk.js.map