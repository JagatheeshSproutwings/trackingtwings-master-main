"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[266],{8470:function(e,n,t){var i=t(1413),r=t(4236).Z.div((function(e){var n=e.justifyContent,t=e.alignItems,r=e.flexDirection,o=e.gap,a=e.padding,l=e.margin,s={display:"flex",justifyContent:n,alignItems:t,gap:"number"===typeof o?"".concat(o,"px"):o};return r&&(s.flexDirection=r),a&&(s.padding=a),l&&(s.margin=l),(0,i.Z)({},s)}));n.Z=r},4951:function(e,n,t){t.r(n);var i=t(4165),r=t(5861),o=t(9439),a=t(5987),l=t(2791),s=t(2999),u=t(7615),c=t(6090),d=t(6106),v=t(914),p=t(7888),h=t(7309),f=t(7007),m=t(8470),Z=t(184),x=["parentToChild"],_=s.Z.Option;n.default=function(e){var n=e.parentToChild,t=(0,a.Z)(e,x),g=u.Z.useForm(),j=(0,o.Z)(g,1)[0],y=(0,l.useState)(!0),b=(0,o.Z)(y,2),w=b[0],S=b[1],C=(0,l.useState)([]),D=(0,o.Z)(C,2),F=D[0],I=D[1],A=(0,l.useState)([]),k=(0,o.Z)(A,2),P=k[0],O=k[1],E=(0,l.useState)([]),T=(0,o.Z)(E,2),M=T[0],V=T[1],z=(0,l.useState)([]),N=(0,o.Z)(z,2),q=N[0],B=N[1],G=function(){S(!w)},H=(0,l.useState)(localStorage.getItem("id")||""),J=(0,o.Z)(H,2),K=J[0],L=J[1],Q=(0,l.useState)(localStorage.getItem("role")||""),R=(0,o.Z)(Q,2),U=R[0],W=R[1],X=function(e,n,t){c.Z[e]({message:n,description:t})},Y=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,o,a,l,s,u,c,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user_id:K},e.next=3,f.ZP.post("role_based_user_list",n).then((function(e){return e})).catch((function(e){return[]}));case 3:t=e.sent,1==U&&(console.log("Super Admin"),I(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.user_list)),2==U&&(console.log("Admin"),O(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.user_list)),3==U&&(console.log("Distributor"),V(null===t||void 0===t||null===(s=t.data)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.user_list)),4==U&&(console.log("Dealer"),B(null===t||void 0===t||null===(c=t.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.subdealer_list));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.setFieldValue(""),O([]),V([]),B([]),o={user_id:n},e.next=7,f.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 7:a=e.sent,O(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.user_list);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.setFieldValue(""),V(""),B(""),o={user_id:n},e.next=6,f.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 6:a=e.sent,V(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.user_list);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.setFieldValue(""),B([]),o={user_id:n},e.next=5,f.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 5:a=e.sent,B(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.subdealer_list);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){L(localStorage.getItem("id")),W(localStorage.getItem("role")),Y()}),[]);var te=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Sim"!=n[1]){e.next=10;break}return r.id=n[0],e.next=4,f.ZP.post("sim_transfer",r);case 4:j.resetFields(),t.parentFunction(),X("success","Device","Sim Transfered Successfully!"),G(),e.next=18;break;case 10:if("Device"!=n[1]){e.next=18;break}return r.id=n[0],e.next=14,f.ZP.post("device_transfer",r);case 14:j.resetFields(),t.parentFunction(),X("success","Device","Device Transfered Successfully!"),G();case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(d.Z,{gutter:6,children:w&&(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(p.Z,{title:"Assign Form",children:(0,Z.jsx)(m.Z,{children:(0,Z.jsx)("div",{className:"container",children:(0,Z.jsxs)(u.Z,{layout:"vertical",size:"small",onFinish:te,children:[(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:1==U&&(0,Z.jsx)(u.Z.Item,{label:"Admin",name:"admin_id",children:(0,Z.jsx)(s.Z,{onChange:$,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(F)?F.map((function(e){return(0,Z.jsx)(s.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:(1==U||2==U)&&(0,Z.jsx)(u.Z.Item,{label:"Distributor",name:"distributor_id",children:(0,Z.jsx)(s.Z,{onChange:ee,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(P)?P.map((function(e){return(0,Z.jsx)(_,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(_,{role_id:"3",value:""})})})}),(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:(1==U||2==U||3==U)&&(0,Z.jsx)(u.Z.Item,{label:"Dealer",name:"dealer_id",children:(0,Z.jsx)(s.Z,{onChange:ne,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(M)?M.map((function(e){return(0,Z.jsx)(_,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(_,{role_id:"4",value:""})})})}),(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:(1==U||2==U||3==U||4==U)&&(0,Z.jsx)(u.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,Z.jsx)(s.Z,{allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(q)&&q.length>0?q.map((function(e){return(0,Z.jsx)(_,{role_id:"5",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(_,{})})})}),(0,Z.jsx)(h.ZP,{type:"primary",htmlType:"submit",children:"Assign"})]})})})})})})}},914:function(e,n,t){var i=t(9752);n.Z=i.Z},6106:function(e,n,t){var i=t(7545);n.Z=i.Z},6753:function(e,n,t){var i=t(4942);n.Z=function(e){var n;return(0,i.Z)({},e.componentCls,(n={},(0,i.Z)(n,"".concat(e.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}),(0,i.Z)(n,"".concat(e.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}),n))}}}]);
//# sourceMappingURL=266.f10dbfd2.chunk.js.map