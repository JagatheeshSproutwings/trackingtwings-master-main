"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[630],{8470:function(e,r,n){var t=n(1413),s=n(4236).Z.div((function(e){var r=e.justifyContent,n=e.alignItems,s=e.flexDirection,a=e.gap,i=e.padding,l=e.margin,o={display:"flex",justifyContent:r,alignItems:n,gap:"number"===typeof a?"".concat(a,"px"):a};return s&&(o.flexDirection=s),i&&(o.padding=i),l&&(o.margin=l),(0,t.Z)({},o)}));r.Z=s},2703:function(e,r,n){var t=n(5671),s=n(3144),a=function(){function e(){(0,t.Z)(this,e)}return(0,s.Z)(e,null,[{key:"getNameInitial",value:function(e){var r=e.match(/\b\w/g)||[];return((r.shift()||"")+(r.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,r){if(e.path===r)return e;var n;for(var t in e)if(e.hasOwnProperty(t)&&"object"===typeof e[t]&&(n=this.getRouteInfo(e[t],r)))return n;return n}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var r=parseInt(s(e).substring(0,2),16),n=function(e){return parseInt(s(e).substring(2,4),16)}(e),t=function(e){return parseInt(s(e).substring(4,6),16)}(e);function s(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*r+587*n+114*t)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,r){var n=parseInt(e.substring(1,3),16),t=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16);n=parseInt(n*(100+r)/100),t=(t=parseInt(t*(100+r)/100))<255?t:255,s=(s=parseInt(s*(100+r)/100))<255?s:255;var a=1===(n=n<255?n:255).toString(16).length?"0".concat(n.toString(16)):n.toString(16),i=1===t.toString(16).length?"0".concat(t.toString(16)):t.toString(16),l=1===s.toString(16).length?"0".concat(s.toString(16)):s.toString(16);return"#".concat(a).concat(i).concat(l)}},{key:"rgbaToHex",value:function(e){var r=function(e){return e.replace(/^\s+|\s+$/gm,"")},n=e.substring(e.indexOf("(")).split(","),t=parseInt(r(n[0].substring(1)),10),s=parseInt(r(n[1]),10),a=parseInt(r(n[2]),10),i=parseFloat(r(n[3].substring(0,n[3].length-1))).toFixed(2),l=[t.toString(16),s.toString(16),a.toString(16),Math.round(255*i).toString(16).substring(0,2)];return l.forEach((function(e,r){1===e.length&&(l[r]="0"+e)})),"#".concat(l.join(""))}},{key:"getSignNum",value:function(e,r,n){return e>0?r:e<0?n:null}},{key:"antdTableSorter",value:function(e,r,n){return"number"===typeof e[n]&&"number"===typeof r[n]?e[n]-r[n]:"string"===typeof e[n]&&"string"===typeof r[n]?(e=e[n].toLowerCase())>(r=r[n].toLowerCase())?-1:r>e?1:0:void 0}},{key:"filterArray",value:function(e,r,n){var t=e;return e&&(t=e.filter((function(e){return e[r]===n}))),t}},{key:"deleteArrayRow",value:function(e,r,n){var t=e;return e&&(t=e.filter((function(e){return e[r]!==n}))),t}},{key:"wildCardSearch",value:function(e,r){return e=e.filter((function(e){return function(e){for(var n in e)if(null!=e[n]&&-1!==e[n].toString().toUpperCase().indexOf(r.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var r=[];for(var n in e){if(e.hasOwnProperty(n))e[n]&&r.push(n)}return r}}]),e}();r.Z=a},630:function(e,r,n){n.r(r),n.d(r,{User:function(){return N},default:function(){return O}});var t=n(1413),s=n(4165),a=n(5861),i=n(9439),l=n(2791),o=n(6106),u=n(914),c=n(7888),d=n(2835),m=n(7309),h=n(9004),p=n(1752),f=n(1730),v=n(9286),Z=n(8470),x=n(7007),g=n(2703),j=n(5987),y=n(2999),b=n(7615),w=n(6090),S=n(3099),_=n(6443),P=n(184),I=["parentToChild"],C=y.Z.Option,k=function(e){var r=e.parentToChild,n=(0,j.Z)(e,I),t=b.Z.useForm(),h=(0,i.Z)(t,1)[0],p=(0,l.useState)(!0),f=(0,i.Z)(p,2),v=f[0],g=f[1],k=(0,l.useState)(),A=(0,i.Z)(k,2),F=A[0],E=A[1],N=(0,l.useState)([]),O=(0,i.Z)(N,2),L=O[0],q=O[1];(0,l.useEffect)((function(){!function(e){D.apply(this,arguments)}(q)}),[]);var U=function(e,r,n){w.Z[e]({message:r,description:n})},M=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.post("user/update",r);case 3:h.resetFields(),n.parentFunction(),U("success","User","User Updated Successfully!"),g(!v),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status&&(t=e.t0.response.data).message&&"object"===typeof t.message&&((a=t.message).hasOwnProperty("name")&&U("info","Name","Given Name is Already Exists"),a.hasOwnProperty("email")&&U("info","E-Mail ID","Given E-Mail ID is Already Exists"),a.hasOwnProperty("mobile_no")&&U("info","Mobile No","Given Mobile No is Already Exists"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}();function D(){return D=(0,a.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("country");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching countries:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),D.apply(this,arguments)}return(0,P.jsx)(o.Z,{gutter:6,children:v&&(0,P.jsx)(u.Z,{children:(0,P.jsx)(c.Z,{title:"Edit User",children:(0,P.jsx)(Z.Z,{children:(0,P.jsx)("div",{className:"container",children:(0,P.jsxs)(b.Z,{form:h,size:"small",name:"registrationForm",onFinish:M,layout:"vertical",children:[(0,P.jsxs)(o.Z,{gutter:[8,8],children:[(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{size:"small",label:"User Name",name:"name",initialValue:r[1],rules:[{required:!0,message:"Please enter your name"}],children:(0,P.jsx)(d.Z,{})})}),(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{size:"small",label:"E-Mail ID",name:"email",initialValue:r[2],rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:(0,P.jsx)(d.Z,{})})}),(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{size:"small",label:"Mobile No",name:"mobile_no",initialValue:r[3],rules:[{required:!0,message:"Please enter your mobile no"},{type:"text",message:"Please enter a valid mobile no"}],children:(0,P.jsx)(d.Z,{})})}),(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{size:"small",label:"Country",name:"country_id",initialValue:r[7],rules:[{required:!0,message:"Please Select a Country"}],children:(0,P.jsx)(y.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){E(e)},value:F,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(L)?L.map((function(e){return(0,P.jsx)(C,{value:e.id,children:e.country_name},e.id)})):(0,P.jsx)(C,{value:"Loading",children:"Loading..."})})})})]}),(0,P.jsxs)(o.Z,{align:"middle",children:[(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{hidden:!0,name:"id",initialValue:r[0],children:(0,P.jsx)(d.Z,{})})}),(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{hidden:!0,name:"role_id",initialValue:r[5],children:(0,P.jsx)(d.Z,{})})})]}),(0,P.jsx)(o.Z,{align:"right",children:(0,P.jsx)(u.Z,{span:12,children:(0,P.jsx)(b.Z.Item,{children:(0,P.jsxs)(S.Z,{wrap:!0,children:[(0,P.jsx)(m.ZP,{type:"primary",shape:"round",children:"Back"}),(0,P.jsx)(m.ZP,{type:"primary",style:{backgroundColor:_.uD},success:!0,shape:"round",htmlType:"submit",children:"Update"})]})})})})]})})})})})})},A=d.Z.TextArea,F=y.Z.Option,E=function(e){var r=b.Z.useForm(),n=(0,i.Z)(r,1)[0],t=(0,l.useState)(""),h=(0,i.Z)(t,2),p=h[0],f=h[1],v=(0,l.useState)([]),g=(0,i.Z)(v,2),j=g[0],I=g[1],C=(0,l.useState)([]),k=(0,i.Z)(C,2),E=k[0],N=k[1],O=(0,l.useState)([]),L=(0,i.Z)(O,2),q=L[0],U=L[1],M=(0,l.useState)([]),D=(0,i.Z)(M,2),z=D[0],R=D[1],T=(0,l.useState)([]),V=(0,i.Z)(T,2),G=V[0],K=V[1],B=(0,l.useState)(),H=(0,i.Z)(B,2),$=H[0],W=H[1],J=(0,l.useState)([]),Q=(0,i.Z)(J,2),X=Q[0],Y=Q[1],ee=(0,l.useState)(),re=(0,i.Z)(ee,2),ne=re[0],te=re[1],se=(0,l.useState)([]),ae=(0,i.Z)(se,2),ie=ae[0],le=ae[1],oe=function(e,r,n){w.Z[e]({message:r,description:n})};function ue(e){var r=e;f(r);if(r.match(/[a-z]/g))if(r.match(/[A-Z]/g))if(r.match(/[0-9]/g))if(r.match(/[!@#$%^&*()_+{}\[\]:;<>,.?~\\-]/g)){if(!(r.length<10))return"OK";oe("info","Password","length should be more than 10")}else oe("info","Password","Should contain one symbol!");else oe("info","Password","Should contain numbers!");else oe("info","Password","Should contain uppercase letters!");else oe("info","Password","Should contain lowercase letters!")}var ce=function(){var r=(0,a.Z)((0,s.Z)().mark((function r(t){var a,i;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("OK"!=ue(t.password)){r.next=15;break}return r.prev=2,r.next=5,x.ZP.post("user/store",t);case 5:n.resetFields(),e.parentFunction(),oe("success","User","User Created Successfully!"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),r.t0.response&&403===r.t0.response.status&&(a=r.t0.response.data).message&&"object"===typeof a.message&&((i=a.message).hasOwnProperty("name")&&oe("info","Name","Given Name is Already Exists"),i.hasOwnProperty("email")&&oe("info","E-Mail ID","Given E-Mail ID is Already Exists"),i.hasOwnProperty("mobile_no")&&oe("info","Mobile No","Given Mobile No is Already Exists"));case 13:r.next=16;break;case 15:oe("error","Password","Password Should be as per the rules");case 16:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e){return r.apply(this,arguments)}}();(0,l.useEffect)((function(){!function(e){ke.apply(this,arguments)}(Y),function(e){Ae.apply(this,arguments)}(le)}),[]);var de=(0,l.useState)(localStorage.getItem("id")||""),me=(0,i.Z)(de,2),he=me[0],pe=me[1],fe=(0,l.useState)(localStorage.getItem("role")||""),ve=(0,i.Z)(fe,2),Ze=ve[0],xe=ve[1],ge=(0,l.useState)(""),je=(0,i.Z)(ge,2),ye=je[0],be=je[1],we=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r,n,t,a,i,l,o,u,c,d,m,h,p,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:he},e.next=3,x.ZP.post("role_based_user_list",r).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==Ze&&(console.log("Super Admin"),I(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user_list)),2==Ze&&(console.log("Admin"),N(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list)),3==Ze&&(console.log("Distributor"),U(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.user_list)),4==Ze&&(console.log("Dealer"),K(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.user_list),R(null===n||void 0===n||null===(m=n.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.subdealer_list)),5==Ze&&(console.log("Subdealer"),K(null===n||void 0===n||null===(p=n.data)||void 0===p||null===(f=p.data)||void 0===f?void 0:f.user_list));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var t,a,i,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),N([]),U([]),R([]),K([]),i={user_id:r},e.next=8,x.ZP.post("role_based_user_list",i).then((function(e){return e})).catch((function(e){return e}));case 8:l=e.sent,N(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user_list);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),_e=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var t,a,i,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),U(""),R(""),K([]),i={user_id:r},e.next=7,x.ZP.post("role_based_user_list",i).then((function(e){return e})).catch((function(e){return e}));case 7:l=e.sent,U(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user_list);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var t,a,i,l,o,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),R([]),K([]),o={user_id:r},e.next=6,x.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 6:u=e.sent,K(null===u||void 0===u||null===(t=u.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user_list),R(null===u||void 0===u||null===(i=u.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.subdealer_list);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var t,a,i,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setFieldValue(""),K([]),i={user_id:r},e.next=5,x.ZP.post("role_based_user_list",i).then((function(e){return e})).catch((function(e){return e}));case 5:l=e.sent,K(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user_list);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function ke(){return ke=(0,a.Z)((0,s.Z)().mark((function e(r){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={role_id:Ze},e.next=4,x.ZP.post("role_rights_list",n);case 4:(t=e.sent).data.success?r(t.data.data):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),ke.apply(this,arguments)}function Ae(){return Ae=(0,a.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.ZP.get("country");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching countries:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ae.apply(this,arguments)}return(0,l.useEffect)((function(){pe(localStorage.getItem("id")),xe(localStorage.getItem("role")),we()}),[]),(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(o.Z,{gutter:6,children:(0,P.jsx)(u.Z,{children:(0,P.jsx)(c.Z,{title:"New User",children:(0,P.jsx)(Z.Z,{children:(0,P.jsx)("div",{className:"container",children:(0,P.jsxs)(b.Z,{form:n,size:"small",name:"registrationForm",onFinish:ce,layout:"vertical",children:[(0,P.jsxs)(o.Z,{gutter:[8,8],children:[(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Role",name:"role_id",rules:[{required:!0,message:"Please Select a Role"}],children:(0,P.jsx)(y.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){W(e),be(e)},value:$,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(X)?X.map((function(e){return(0,P.jsx)(F,{value:e.id,children:e.name},e.id)})):(0,P.jsx)(F,{value:"Loading",disabled:!0,children:"Loading..."})})})}),1==Ze&&ye>="3"&&(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Admin",name:"admin_id",rules:[{required:!0,message:"Please Select a Admin"}],children:(0,P.jsx)(y.Z,{onChange:Se,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(j)?j.map((function(e){return(0,P.jsx)(y.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,P.jsx)(y.Z.Option,{role_id:"2",value:""})})})}),(1==Ze||2==Ze)&&ye>="4"&&(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Distributor",name:"distributor_id",rules:[{required:!0,message:"Please Select Distributor"}],children:(0,P.jsx)(y.Z,{onChange:_e,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(E)?E.map((function(e){return(0,P.jsx)(F,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,P.jsx)(F,{role_id:"3",value:""})})})}),(1==Ze||2==Ze||3==Ze)&&ye>="5"&&(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Dealer",name:"dealer_id",rules:[{required:!0,message:"Please Select Dealer"}],children:(0,P.jsx)(y.Z,{onChange:Pe,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(q)?q.map((function(e){return(0,P.jsx)(F,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,P.jsx)(F,{role_id:"4",value:""})})})}),(1==Ze||2==Ze||3==Ze||4==Ze)&&ye>="6"&&(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,P.jsx)(y.Z,{onChange:Ie,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(z)&&z.length>0?z.map((function(e){return(0,P.jsx)(F,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,P.jsx)(F,{})})})}),(1==Ze||2==Ze||3==Ze||4==Ze||5==Ze)&&ye>="7"&&(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Customer",name:"customer_id",rules:[{required:!0,message:"Please Select a Role"}],children:(0,P.jsx)(y.Z,{onChange:Ce,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(G)?G.map((function(e){return(0,P.jsx)(F,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,P.jsx)(F,{})})})})]}),(0,P.jsxs)(o.Z,{gutter:[8,8],children:[(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"User Name",name:"name",rules:[{required:!0,message:"Please enter your name"}],children:(0,P.jsx)(d.Z,{})})}),(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"E-Mail ID",name:"email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:(0,P.jsx)(d.Z,{})})})]}),(0,P.jsxs)(o.Z,{gutter:[8,8],children:[(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{value:p,label:"Password",name:"password",rules:[{required:!0,message:"Please enter a password"}],children:(0,P.jsx)(d.Z.Password,{})})}),(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Confirm Password",name:"c_password",rules:[{required:!0,message:"Please confirm your password"},function(e){var r=e.getFieldValue;return{validator:function(e,n){return n&&r("password")!==n?Promise.reject(new Error("Passwords do not match")):Promise.resolve()}}}],children:(0,P.jsx)(d.Z.Password,{})})}),(0,P.jsx)("span",{style:{fontSize:"11px",color:"green",fontWeight:"bold",fontFamily:"Segoe UI",fontStyle:"italic",marginTop:"-15px"},children:"*[One UpperCase & LowerCase, One Number, One Symbol, Min. 8 Characters Length]"})]}),(0,P.jsxs)(o.Z,{gutter:[8,8],children:[(0,P.jsxs)(u.Z,{sm:12,md:12,lg:12,children:[" ",(0,P.jsx)(b.Z.Item,{label:"Mobile No",name:"mobile_no",rules:[{required:!0,message:"Please enter your mobile no"},{type:"text",message:"Please enter a valid mobile no"}],children:(0,P.jsx)(d.Z,{})})]}),(0,P.jsx)(u.Z,{sm:12,md:12,lg:12,children:(0,P.jsx)(b.Z.Item,{label:"Country",name:"country_id",rules:[{required:!0,message:"Please select a country"}],children:(0,P.jsx)(y.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:function(e){te(e)},value:ne,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(ie)?ie.map((function(e){return(0,P.jsx)(F,{value:e.id,children:e.country_name},e.id)})):(0,P.jsx)(F,{value:"Loading",children:"Loading..."})})})})]}),(0,P.jsx)(o.Z,{gutter:[8,8],children:(0,P.jsx)(u.Z,{sm:24,md:24,lg:24,children:(0,P.jsx)(b.Z.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please enter your address"}],children:(0,P.jsx)(A,{rows:4,maxLength:100})})})}),(0,P.jsx)(o.Z,{children:(0,P.jsx)(u.Z,{"col-offset":18,sm:24,md:24,lg:24,children:(0,P.jsxs)(S.Z,{wrap:!0,children:[(0,P.jsx)(m.ZP,{type:"primary",danger:!0,shape:"round",children:"Reset"}),(0,P.jsx)(m.ZP,{type:"primary",style:{backgroundColor:_.uD},success:!0,shape:"round",htmlType:"submit",children:"Save"})]})})})]})})})})})})})},N=function(){var e=(0,l.useState)([]),r=(0,i.Z)(e,2),n=r[0],j=r[1],y=(0,l.useState)([]),b=(0,i.Z)(y,2),w=b[0],S=b[1],_=(0,l.useState)([]),I=(0,i.Z)(_,2),C=(I[0],I[1]),A=(0,l.useState)(!1),F=(0,i.Z)(A,2),N=F[0],O=F[1],L=(0,l.useState)(!1),q=(0,i.Z)(L,2),U=q[0],M=q[1],D=(0,l.useState)(""),z=(0,i.Z)(D,2),R=z[0],T=z[1],V=localStorage.getItem("id"),G=localStorage.getItem("role"),K=function(){console.log(n),B()},B=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r,n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:V,role_id:G},e.prev=1,e.next=4,x.ZP.post("user_list",r);case 4:(n=e.sent).data&&Array.isArray(n.data.data)?(t=n.data.data.map((function(e){return{id:e.id,name:e.name,email:e.email,mobile_no:e.mobile_no,password:e.password,role_id:e.role_id,role:e.role,country_id:e.country_id,country:e.country_name,address:e.address}})),console.log(t),j(t)):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){B()}),[]);var H=[{title:"Name",dataIndex:"name"},{title:"Email",dataIndex:"email"},{title:"Mobile Number",dataIndex:"mobile_no"},{title:"Role",dataIndex:"role"},{title:"Country",dataIndex:"country"},{title:"Edit",dataIndex:"edit",render:function(e,r){return(0,P.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){T([e.id,e.name,e.email,e.mobile_no,e.password,e.role_id,e.role,e.country_id,e.country,e.address]),M(!0),O(!1),B()}(r)},children:(0,P.jsx)(p.Z,{})})}}],$={onChange:function(e,r){C(r),S(e)}};return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(o.Z,{gutter:6,children:[(0,P.jsx)(u.Z,{sm:24,md:14,lg:14,children:(0,P.jsxs)(c.Z,{title:"User",children:[(0,P.jsxs)(Z.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,P.jsxs)(Z.Z,{className:"mb-1",mobileFlex:!1,children:[(0,P.jsx)("div",{className:"mr-md-3 mb-3",children:(0,P.jsx)(d.Z,{placeholder:"Search",prefix:(0,P.jsx)(f.Z,{}),onChange:function(e){return function(e){var r=e.currentTarget.value,t=e.currentTarget.value?n:[],s=g.Z.wildCardSearch(t,r);j(s),S([])}(e)}})}),(0,P.jsx)("div",{className:"mb-3"})]}),(0,P.jsx)("div",{className:"mb-3",children:(0,P.jsx)(m.ZP,{type:"primary",icon:(0,P.jsx)(v.Z,{}),ghost:!0,onClick:function(){O(!0),M(!1)},children:"Add User"})})]}),(0,P.jsx)("div",{className:"table-responsive",children:(0,P.jsx)(h.Z,{bordered:!0,columns:H,dataSource:n,rowKey:"id",rowSelection:(0,t.Z)({selectedRowKeys:w,type:"checkbox",preserveSelectedRowKeys:!1},$)})})]})}),(0,P.jsxs)(u.Z,{sm:24,md:10,lg:10,children:[N&&(0,P.jsx)(E,{parentFunction:K}),U&&(0,P.jsx)(k,{parentToChild:R,parentFunction:K},R[0])]})]})})},O=N},1752:function(e,r,n){n.d(r,{Z:function(){return o}});var t=n(1413),s=n(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=n(8711),l=function(e,r){return s.createElement(i.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:r,icon:a}))};l.displayName="EditOutlined";var o=s.forwardRef(l)},914:function(e,r,n){var t=n(9752);r.Z=t.Z},6106:function(e,r,n){var t=n(7545);r.Z=t.Z}}]);
//# sourceMappingURL=630.19ca7a51.chunk.js.map