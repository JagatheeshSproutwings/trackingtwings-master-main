"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[266],{8470:function(e,n,t){var i=t(1413),r=t(4236).Z.div((function(e){var n=e.justifyContent,t=e.alignItems,r=e.flexDirection,o=e.gap,l=e.padding,a=e.margin,s={display:"flex",justifyContent:n,alignItems:t,gap:"number"===typeof o?"".concat(o,"px"):o};return r&&(s.flexDirection=r),l&&(s.padding=l),a&&(s.margin=a),(0,i.Z)({},s)}));n.Z=r},4951:function(e,n,t){t.r(n);var i=t(4165),r=t(5861),o=t(9439),l=t(5987),a=t(2791),s=t(2999),u=t(7615),d=t(6090),c=t(6106),v=t(914),p=t(7888),h=t(7309),m=t(7007),f=t(8470),Z=t(184),x=["parentToChild"],_=s.Z.Option;n.default=function(e){var n,t,g,j,y,b=e.parentToChild,w=(0,l.Z)(e,x),S=u.Z.useForm(),C=(0,o.Z)(S,1)[0],D=(0,a.useState)(!0),F=(0,o.Z)(D,2),I=F[0],A=F[1],k=(0,a.useState)([]),P=(0,o.Z)(k,2),O=P[0],E=P[1],T=(0,a.useState)([]),M=(0,o.Z)(T,2),V=M[0],z=M[1],N=(0,a.useState)([]),q=(0,o.Z)(N,2),B=q[0],G=q[1],H=(0,a.useState)([]),J=(0,o.Z)(H,2),K=J[0],L=J[1],Q=function(){A(!I)},R=(0,a.useState)(localStorage.getItem("id")||""),U=(0,o.Z)(R,2),W=U[0],X=U[1],Y=(0,a.useState)(localStorage.getItem("role")||""),$=(0,o.Z)(Y,2),ee=$[0],ne=$[1],te=function(e,n,t){d.Z[e]({message:n,description:t})};(0,a.useEffect)((function(){X(localStorage.getItem("id")),ne(localStorage.getItem("role")),function(){(n=n||(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,o,l,a,s,u,d,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user_id:W},e.next=3,m.ZP.post("role_based_user_list",n).then((function(e){return e})).catch((function(e){return[]}));case 3:t=e.sent,1==ee&&(console.log("Super Admin"),E(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.user_list)),2==ee&&(console.log("Admin"),z(null===t||void 0===t||null===(l=t.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.user_list)),3==ee&&(console.log("Distributor"),G(null===t||void 0===t||null===(s=t.data)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.user_list)),4==ee&&(console.log("Dealer"),L(null===t||void 0===t||null===(d=t.data)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.subdealer_list));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]);return(0,Z.jsx)(c.Z,{gutter:6,children:I&&(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(p.Z,{title:"Assign Form",children:(0,Z.jsx)(f.Z,{children:(0,Z.jsx)("div",{className:"container",children:(0,Z.jsxs)(u.Z,{layout:"vertical",size:"small",onFinish:function(e){return(y=y||(0,r.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Sim"!=b[1]){e.next=10;break}return n.id=b[0],e.next=4,m.ZP.post("sim_transfer",n);case 4:C.resetFields(),w.parentFunction(),te("success","Device","Sim Transfered Successfully!"),Q(),e.next=18;break;case 10:if("Device"!=b[1]){e.next=18;break}return n.id=b[0],e.next=14,m.ZP.post("device_transfer",n);case 14:C.resetFields(),w.parentFunction(),te("success","Device","Device Transfered Successfully!"),Q();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:[(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:1==ee&&(0,Z.jsx)(u.Z.Item,{label:"Admin",name:"admin_id",children:(0,Z.jsx)(s.Z,{onChange:function(e){return(t=t||(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.setFieldValue(""),z([]),G([]),L([]),o={user_id:n},e.next=7,m.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 7:l=e.sent,z(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.user_list);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(O)?O.map((function(e){return(0,Z.jsx)(s.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:(1==ee||2==ee)&&(0,Z.jsx)(u.Z.Item,{label:"Distributor",name:"distributor_id",children:(0,Z.jsx)(s.Z,{onChange:function(e){return(g=g||(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.setFieldValue(""),G(""),L(""),o={user_id:n},e.next=6,m.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 6:l=e.sent,G(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.user_list);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(V)?V.map((function(e){return(0,Z.jsx)(_,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(_,{role_id:"3",value:""})})})}),(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:(1==ee||2==ee||3==ee)&&(0,Z.jsx)(u.Z.Item,{label:"Dealer",name:"dealer_id",children:(0,Z.jsx)(s.Z,{onChange:function(e){return(j=j||(0,r.Z)((0,i.Z)().mark((function e(n){var t,r,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.setFieldValue(""),L([]),o={user_id:n},e.next=5,m.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 5:l=e.sent,L(null===l||void 0===l||null===(t=l.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.subdealer_list);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(B)?B.map((function(e){return(0,Z.jsx)(_,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(_,{role_id:"4",value:""})})})}),(0,Z.jsx)(v.Z,{sm:12,md:12,lg:12,children:(1==ee||2==ee||3==ee||4==ee)&&(0,Z.jsx)(u.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,Z.jsx)(s.Z,{allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(K)&&K.length>0?K.map((function(e){return(0,Z.jsx)(_,{role_id:"5",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,Z.jsx)(_,{})})})}),(0,Z.jsx)(h.ZP,{type:"primary",htmlType:"submit",children:"Assign"})]})})})})})})}},914:function(e,n,t){var i=t(9752);n.Z=i.Z},6106:function(e,n,t){var i=t(7545);n.Z=i.Z},6753:function(e,n,t){var i=t(4942);n.Z=function(e){var n;return(0,i.Z)({},e.componentCls,(n={},(0,i.Z)(n,"".concat(e.antCls,"-motion-collapse-legacy"),{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}),(0,i.Z)(n,"".concat(e.antCls,"-motion-collapse"),{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}),n))}}}]);
//# sourceMappingURL=266.0b1e2cf5.chunk.js.map