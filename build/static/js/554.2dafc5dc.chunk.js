"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[554],{8470:function(e,r,n){var i=n(1413),t=n(4236).Z.div((function(e){var r=e.justifyContent,n=e.alignItems,t=e.flexDirection,s=e.gap,a=e.padding,l=e.margin,c={display:"flex",justifyContent:r,alignItems:n,gap:"number"===typeof s?"".concat(s,"px"):s};return t&&(c.flexDirection=t),a&&(c.padding=a),l&&(c.margin=l),(0,i.Z)({},c)}));r.Z=t},4951:function(e,r,n){n.r(r);var i=n(4165),t=n(5861),s=n(9439),a=n(2791),l=n(2999),c=n(7615),o=n(6106),d=n(914),u=n(7888),p=n(7354),m=n(7007),h=n(8470),v=n(184),f=l.Z.Option;r.default=function(e){var r=e.parentToChild,n=c.Z.useForm(),x=(0,s.Z)(n,1)[0],Z=(0,a.useState)(!0),_=(0,s.Z)(Z,2),j=_[0],g=_[1],y=(0,a.useState)([]),w=(0,s.Z)(y,2),S=w[0],b=w[1],k=(0,a.useState)([]),I=(0,s.Z)(k,2),C=I[0],P=I[1],D=(0,a.useState)([]),A=(0,s.Z)(D,2),F=A[0],L=A[1],E=(0,a.useState)([]),O=(0,s.Z)(E,2),M=O[0],z=O[1],q=function(){g(!j)},N=(0,a.useState)(localStorage.getItem("id")||""),T=(0,s.Z)(N,2),V=T[0],B=T[1],U=(0,a.useState)(localStorage.getItem("role")||""),K=(0,s.Z)(U,2),R=K[0],W=K[1],G=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var r,n,t,s,a,l,c,o,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_id:V},e.next=3,m.ZP.post("role_based_user_list",r).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==R&&(console.log("Super Admin"),b(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.user_list)),2==R&&(console.log("Admin"),P(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.user_list)),3==R&&(console.log("Distributor"),L(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.user_list)),4==R&&(console.log("Dealer"),z(null===n||void 0===n||null===(d=n.data)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.subdealer_list));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.setFieldValue(""),P([]),L([]),z([]),s={user_id:r},e.next=7,m.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 7:a=e.sent,P(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_list);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),J=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.setFieldValue(""),L(""),z(""),s={user_id:r},e.next=6,m.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 6:a=e.sent,L(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_list);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Q=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(r){var n,t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.setFieldValue(""),z([]),s={user_id:r},e.next=5,m.ZP.post("role_based_user_list",s).then((function(e){return e})).catch((function(e){return e}));case 5:a=e.sent,z(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.subdealer_list);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){B(localStorage.getItem("id")),W(localStorage.getItem("role")),G()}),[]);var X=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n.type),n.id=r[0],"Sim"!=r[1]){e.next=9;break}return e.next=5,m.ZP.post("sim_transfer",n).then((function(e){return alert("Sim Transfered Successfuly")})).catch((function(e){return[]}));case 5:e.sent,q(),e.next=15;break;case 9:if("Device"!=r[1]){e.next=15;break}return n.id=r[0],e.next=13,m.ZP.post("device_transfer",n).then((function(e){return alert("Device Transfered Successfuly")})).catch((function(e){return[]}));case 13:e.sent,q();case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,v.jsx)(o.Z,{gutter:6,children:j&&(0,v.jsx)(d.Z,{children:(0,v.jsx)(u.Z,{title:"Assign Form",children:(0,v.jsx)(h.Z,{children:(0,v.jsx)("div",{className:"container",children:(0,v.jsxs)(c.Z,{layout:"vertical",size:"small",onFinish:X,children:[(0,v.jsx)(d.Z,{sm:12,md:12,lg:12,children:1==R&&(0,v.jsx)(c.Z.Item,{label:"Admin",name:"admin_id",children:(0,v.jsx)(l.Z,{onChange:H,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(S)?S.map((function(e){return(0,v.jsx)(l.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,v.jsx)(l.Z.Option,{role_id:"2",value:""})})})}),(0,v.jsx)(d.Z,{sm:12,md:12,lg:12,children:(1==R||2==R)&&(0,v.jsx)(c.Z.Item,{label:"Distributor",name:"distributor_id",children:(0,v.jsx)(l.Z,{onChange:J,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(C)?C.map((function(e){return(0,v.jsx)(f,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,v.jsx)(f,{role_id:"3",value:""})})})}),(0,v.jsx)(d.Z,{sm:12,md:12,lg:12,children:(1==R||2==R||3==R)&&(0,v.jsx)(c.Z.Item,{label:"Dealer",name:"dealer_id",children:(0,v.jsx)(l.Z,{onChange:Q,allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(F)?F.map((function(e){return(0,v.jsx)(f,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,v.jsx)(f,{role_id:"4",value:""})})})}),(0,v.jsx)(d.Z,{sm:12,md:12,lg:12,children:(1==R||2==R||3==R||4==R)&&(0,v.jsx)(c.Z.Item,{label:"Subdealer",name:"subdealer_id",children:(0,v.jsx)(l.Z,{allowClear:!0,showSearch:!0,optionFilterProp:"children",children:Array.isArray(M)&&M.length>0?M.map((function(e){return(0,v.jsx)(f,{role_id:"5",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,v.jsx)(f,{})})})}),(0,v.jsx)(p.ZP,{type:"primary",htmlType:"submit",children:"Assign"})]})})})})})})}},4554:function(e,r,n){n.r(r),n.d(r,{Device:function(){return C},default:function(){return P}});var i=n(4165),t=n(1413),s=n(5861),a=n(9439),l=n(2791),c=n(6106),o=n(914),d=n(7888),u=n(2835),p=n(7354),m=n(3248),h=n(1752),v=n(1730),f=n(9286),x=n(8470),Z=n(7007),_=n(2999),j=n(7615),g=n(3099),y=n(184),w=_.Z.Option;function S(){var e=j.Z.useForm(),r=(0,a.Z)(e,1)[0],n=(0,l.useState)(),t=(0,a.Z)(n,2),m=t[0],h=t[1],v=(0,l.useState)([]),f=(0,a.Z)(v,2),S=f[0],b=f[1],k=(0,l.useState)(),I=(0,a.Z)(k,2),C=I[0],P=I[1],D=(0,l.useState)([]),A=(0,a.Z)(D,2),F=A[0],L=A[1],E=(0,l.useState)(),O=(0,a.Z)(E,2),M=O[0],z=O[1],q=(0,l.useState)([]),N=(0,a.Z)(q,2),T=N[0],V=N[1];(0,l.useEffect)((function(){!function(e){U.apply(this,arguments)}(b),function(e){K.apply(this,arguments)}(L),function(e){R.apply(this,arguments)}(V)}),[]);var B=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("imei_er_span").textContent="",t={supplier_id:n.supplier_id,device_make_id:n.device_make_id,device_model_id:n.device_model_id,device_imei_no:n.device_imei_no,uid:n.uid,ccid:n.ccid},e.prev=2,e.next=5,Z.ZP.post("device/store",t);case 5:r.resetFields(),alert("Device Inserted Successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&403===e.t0.response.status&&(s=e.t0.response.data).message&&"object"===typeof s.message&&(a=s.message).hasOwnProperty("device_imei_no")&&(console.log(a.name),document.getElementById("imei_er_span").textContent=a.device_imei_no);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(r){return e.apply(this,arguments)}}();function U(){return U=(0,s.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("supplier");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),U.apply(this,arguments)}function K(){return K=(0,s.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_make");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),K.apply(this,arguments)}function R(){return R=(0,s.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_model");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),R.apply(this,arguments)}return(0,y.jsx)(c.Z,{gutter:6,children:(0,y.jsx)(o.Z,{children:(0,y.jsx)(d.Z,{title:"New Device",children:(0,y.jsx)(x.Z,{children:(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)(j.Z,{form:r,size:"small",name:"registrationForm",onFinish:B,layout:"vertical",children:[(0,y.jsxs)(c.Z,{gutter:[8,8],children:[(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{size:"small",label:"Supplier",name:"supplier_id",rules:[{required:!0,message:"Please Select a Supplier"}],children:(0,y.jsx)(_.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",placeholder:"Select Supplier",onChange:function(e){h(e)},value:m,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(S)?S.map((function(e){return(0,y.jsx)(w,{value:e.id,children:e.supplier_name},e.id)})):(0,y.jsx)(w,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{size:"small",label:"Device Make",name:"device_make_id",rules:[{required:!0,message:"Please Select a Device Make"}],children:(0,y.jsx)(_.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Device Make",optionFilterProp:"children",onChange:function(e){P(e)},value:C,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(F)?F.map((function(e){return(0,y.jsx)(w,{value:e.id,children:e.device_make},e.id)})):(0,y.jsx)(w,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{size:"small",label:"Device Model",name:"device_model_id",rules:[{required:!0,message:"Please Select a Device Model"}],children:(0,y.jsx)(_.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Device Model",optionFilterProp:"children",onChange:function(e){z(e)},value:M,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(T)?T.map((function(e){return(0,y.jsx)(w,{value:e.id,children:e.device_model},e.id)})):(0,y.jsx)(w,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{size:"small",label:"Device IMEI No",name:"device_imei_no",rules:[{required:!0,message:"Please enter a Device IMEI No"}],children:(0,y.jsx)(u.Z,{})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{size:"small",label:"Device UID",name:"uid",children:(0,y.jsx)(u.Z,{})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{size:"small",label:"Device CCID",name:"ccid",children:(0,y.jsx)(u.Z,{})})})]}),(0,y.jsx)(c.Z,{align:"middle",children:(0,y.jsx)(o.Z,{span:12,children:(0,y.jsx)(j.Z.Item,{children:(0,y.jsxs)(g.Z,{wrap:!0,children:[(0,y.jsx)(p.ZP,{type:"primary",shape:"round",htmlType:"submit",children:"Save"}),(0,y.jsx)(p.ZP,{type:"primary",shape:"round",children:"Back"})]})})})}),(0,y.jsx)("span",{id:"imei_er_span",style:{color:"red",fontSize:"12px",fontWeight:"bold",fontFamily:"sans-serif"}})]})})})})})})}n(2426);var b=_.Z.Option;function k(e){var r=e.parentToChild,n=j.Z.useForm(),t=(0,a.Z)(n,1)[0],m=(0,l.useState)(),h=(0,a.Z)(m,2),v=h[0],f=h[1],w=(0,l.useState)([]),S=(0,a.Z)(w,2),k=S[0],I=S[1],C=(0,l.useState)(),P=(0,a.Z)(C,2),D=P[0],A=P[1],F=(0,l.useState)([]),L=(0,a.Z)(F,2),E=L[0],O=L[1],M=(0,l.useState)(),z=(0,a.Z)(M,2),q=z[0],N=z[1],T=(0,l.useState)([]),V=(0,a.Z)(T,2),B=V[0],U=V[1],K=(0,l.useState)(!0),R=(0,a.Z)(K,2),W=R[0],G=R[1];(0,l.useEffect)((function(){!function(e){J.apply(this,arguments)}(I),function(e){Q.apply(this,arguments)}(O),function(e){X.apply(this,arguments)}(U)}),[]);var H=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var s,a,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("imei_er_span").textContent="",s={id:r[0],supplier_id:n.supplier_id,device_make_id:n.device_make_id,device_model_id:n.device_model_id,device_imei_no:n.device_imei_no,uid:n.uid,ccid:n.ccid},e.prev=2,e.next=5,Z.ZP.post("device/update",s);case 5:t.resetFields(),alert("Sim Updated Successfully"),G(!W),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.response&&403===e.t0.response.status&&(a=e.t0.response.data).message&&"object"===typeof a.message&&(l=a.message).hasOwnProperty("device_imei_no")&&(console.log(l.name),document.getElementById("imei_er_span").textContent=l.device_imei_no);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(r){return e.apply(this,arguments)}}();function J(){return J=(0,s.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("supplier");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),J.apply(this,arguments)}function Q(){return Q=(0,s.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_make");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Q.apply(this,arguments)}function X(){return X=(0,s.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.get("device_model");case 3:(n=e.sent).data.success?r(n.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),X.apply(this,arguments)}return(0,y.jsx)(c.Z,{gutter:6,children:W&&(0,y.jsx)(o.Z,{children:(0,y.jsx)(d.Z,{title:"Edit Device",children:(0,y.jsx)(x.Z,{children:(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)(j.Z,{size:"small",name:"registrationForm",onFinish:H,layout:"vertical",children:[(0,y.jsxs)(c.Z,{gutter:[8,8],children:[(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{initialValue:r[1],size:"small",label:"Supplier",name:"supplier_id",rules:[{required:!0,message:"Please Select a Supplier"}],children:(0,y.jsx)(_.Z,{showSearch:!0,placeholder:"Select Supplier",optionFilterProp:"children",onChange:function(e){f(e)},value:v,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(k)?k.map((function(e){return(0,y.jsx)(b,{value:e.id,children:e.supplier_name},e.id)})):(0,y.jsx)(b,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{initialValue:r[3],size:"small",label:"Device Make",name:"device_make_id",rules:[{required:!0,message:"Please Select a Device Make"}],children:(0,y.jsx)(_.Z,{showSearch:!0,placeholder:"Select Device Make",optionFilterProp:"children",onChange:function(e){A(e)},value:D,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(E)?E.map((function(e){return(0,y.jsx)(b,{value:e.id,children:e.device_make},e.id)})):(0,y.jsx)(b,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{initialValue:r[5],size:"small",label:"Device Model",name:"device_model_id",rules:[{required:!0,message:"Please Select a Device Model"}],children:(0,y.jsx)(_.Z,{showSearch:!0,placeholder:"Select Device Model",optionFilterProp:"children",onChange:function(e){N(e)},value:q,filterOption:function(e,r){return r.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(B)?B.map((function(e){return(0,y.jsx)(b,{value:e.id,children:e.device_model},e.id)})):(0,y.jsx)(b,{value:"Loading",disabled:!0,children:"Loading..."})})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{initialValue:r[7],size:"small",label:"Device IMEI No",name:"device_imei_no",rules:[{required:!0,message:"Please enter a Device IMEI No"}],children:(0,y.jsx)(u.Z,{})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{initialValue:r[8],size:"small",label:"Device UID",name:"uid",children:(0,y.jsx)(u.Z,{})})}),(0,y.jsx)(o.Z,{sm:12,md:12,lg:12,children:(0,y.jsx)(j.Z.Item,{initialValue:r[9],size:"small",label:"Device CCID",name:"ccid",children:(0,y.jsx)(u.Z,{})})})]}),(0,y.jsx)(c.Z,{align:"middle",children:(0,y.jsx)(o.Z,{span:12,children:(0,y.jsx)(j.Z.Item,{children:(0,y.jsxs)(g.Z,{wrap:!0,children:[(0,y.jsx)(p.ZP,{type:"primary",shape:"round",htmlType:"submit",children:"Update"}),(0,y.jsx)(p.ZP,{type:"primary",shape:"round",children:"Back"})]})})})}),(0,y.jsx)("span",{id:"imei_er_span",style:{color:"red",fontSize:"12px",fontWeight:"bold",fontFamily:"sans-serif"}})]})})})})})})}var I=n(4951),C=function(){var e=(0,l.useState)([]),r=(0,a.Z)(e,2),n=r[0],_=r[1],j=(0,l.useState)([]),g=(0,a.Z)(j,2),w=g[0],b=g[1],C=(0,l.useState)(!1),P=(0,a.Z)(C,2),D=P[0],A=P[1],F=(0,l.useState)(!1),L=(0,a.Z)(F,2),E=L[0],O=L[1],M=(0,l.useState)(!1),z=(0,a.Z)(M,2),q=z[0],N=z[1],T=(0,l.useState)(""),V=(0,a.Z)(T,2),B=V[0],U=V[1],K=(0,l.useState)(""),R=(0,a.Z)(K,2),W=R[0],G=R[1];function H(){return H=(0,s.Z)((0,i.Z)().mark((function e(r){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.ZP.post("device_list");case 3:(n=e.sent).data&&Array.isArray(n.data.data)?(t=n.data.data.map((function(e){return{id:e.id,supplier_id:e.supplier_id,supplier_name:e.supplier_name,device_imei_no:e.device_imei_no,ccid:e.ccid,uid:e.uid,device_make_id:e.device_make_id,device_model_id:e.device_model_id,device_make:e.device_make,device_model:e.device_model}})),r(t)):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),H.apply(this,arguments)}function J(e){A(!1),O(!1),N(!0);var r=e.id,n=e.device_imei_no;G([r,"Device",n])}(0,l.useEffect)((function(){!function(e){H.apply(this,arguments)}(_)}),[]);var Q=[{title:"Supplier Name",dataIndex:"supplier_name"},{title:"Device No",dataIndex:"device_imei_no"},{title:"Device Make",dataIndex:"device_make"},{title:"Device Model",dataIndex:"device_model"},{title:"Edit",dataIndex:"edit",render:function(e,r){return(0,y.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){U([e.id,e.supplier_id,e.supplier_name,e.device_make_id,e.device_make,e.device_model_id,e.device_model,e.device_imei_no,e.ccid,e.uid]),O(!0),A(!1),N(!1)}(r)},children:(0,y.jsx)(h.Z,{})})}},{title:"Assign",dataIndex:"edit",render:function(e,r){return(0,y.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){return J(r)},children:[(0,y.jsx)(h.Z,{})," "]})}}],X={onChange:function(e,r){b(e)}};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(c.Z,{gutter:6,children:[(0,y.jsx)(o.Z,{sm:24,md:14,lg:14,children:(0,y.jsxs)(d.Z,{title:"Device",children:[(0,y.jsxs)(x.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,y.jsxs)(x.Z,{className:"mb-1",mobileFlex:!1,children:[(0,y.jsx)("div",{className:"mr-md-3 mb-3",children:(0,y.jsx)(u.Z,{placeholder:"Search",prefix:(0,y.jsx)(v.Z,{})})}),(0,y.jsx)("div",{className:"mb-3"})]}),(0,y.jsx)("div",{className:"mb-3",children:(0,y.jsx)(p.ZP,{type:"primary",icon:(0,y.jsx)(f.Z,{}),ghost:!0,onClick:function(){A(!0),O(!1),N(!1)},children:"Add Device"})})]}),(0,y.jsx)("div",{className:"table-responsive",children:(0,y.jsx)(m.Z,{bordered:!0,columns:Q,dataSource:n,rowKey:"id",rowSelection:(0,t.Z)({selectedRowKeys:w,type:"checkbox",preserveSelectedRowKeys:!1},X)})})]})}),(0,y.jsxs)(o.Z,{sm:24,md:10,lg:10,children:[D&&(0,y.jsx)(S,{}),q&&(0,y.jsx)(I.default,{parentToChild:W}),E&&(0,y.jsx)(k,{parentToChild:B},B[0])]})]})})},P=C}}]);
//# sourceMappingURL=554.2dafc5dc.chunk.js.map