"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[842],{1842:function(e,t,r){r.r(t);var a=r(1413),n=r(4165),s=r(5861),c=r(9439),u=r(2791),i=r(6090),o=r(7888),l=r(7309),d=r(3248),p=r(7007),f=r(184);t.default=function(){var e,t,r=(0,u.useState)([]),_=(0,c.Z)(r,2),y=_[0],h=_[1],k=(0,u.useState)([]),Z=(0,c.Z)(k,2),x=Z[0],m=Z[1],v={onChange:function(e){m(e)}},g=(0,u.useState)(localStorage.getItem("id")||""),w=(0,c.Z)(g,2),S=w[0],b=w[1],A=function(){return(e=e||(0,s.Z)((0,n.Z)().mark((function e(){var t,r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={user_id:S},e.next=4,p.ZP.post("alert_notifications_list",t);case 4:(r=e.sent).data&&Array.isArray(r.data.data)?(a=r.data.data.map((function(e){return{alert_type_id:e.alert_type_id,alert_type:e.alert_type,user_status:e.user_status,key:e.alert_type_id}})),s=a.filter((function(e){return 1===e.user_status})).map((function(e){return e.alert_type_id})),m(s),h(a)):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)},C=function(e){return(t=t||(0,s.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={user_id:S,alert_type_id:t},e.next=4,p.ZP.post("alert_notification/update",r);case 4:e.sent,a="success",n="Alert",s="Alert Configuration Updated Successfully!",i.Z[a]({message:n,description:s}),A(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}var a,n,s}),e,null,[[0,9]])})))).apply(this,arguments)},I=[{title:"Name",dataIndex:"alert_type_id",key:"alert_type_id"},{title:"Mobile",dataIndex:"alert_type",key:"alert_type_id"},{title:"Status",dataIndex:"user_status",render:function(e){return(0,f.jsx)("input",{type:"checkbox",checked:1===e})}}];return(0,u.useEffect)((function(){b(localStorage.getItem("id")||""),A()}),[]),(0,f.jsxs)(o.Z,{title:"Alert Configuration",children:[(0,f.jsx)(l.ZP,{onClick:function(){console.log(x),C(x)},children:"Update"}),(0,f.jsx)(d.Z,{size:"small",bordered:!0,columns:I,dataSource:y,rowKey:"key",rowSelection:(0,a.Z)({selectedRowKeys:x,type:"checkbox",preserveSelectedRowKeys:!1},v)})]})}}}]);
//# sourceMappingURL=842.4ceb51f0.chunk.js.map