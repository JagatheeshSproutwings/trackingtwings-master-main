"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[214],{8470:function(e,t,a){var n=a(1413),r=a(4236).Z.div((function(e){var t=e.justifyContent,a=e.alignItems,r=e.flexDirection,i=e.gap,o=e.padding,s=e.margin,l={display:"flex",justifyContent:t,alignItems:a,gap:"number"===typeof i?"".concat(i,"px"):i};return r&&(l.flexDirection=r),o&&(l.padding=o),s&&(l.margin=s),(0,n.Z)({},l)}));t.Z=r},2703:function(e,t,a){var n=a(5671),r=a(3144),i=function(){function e(){(0,n.Z)(this,e)}return(0,r.Z)(e,null,[{key:"getNameInitial",value:function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,t){if(e.path===t)return e;var a;for(var n in e)if(e.hasOwnProperty(n)&&"object"===typeof e[n]&&(a=this.getRouteInfo(e[n],t)))return a;return a}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var t=parseInt(r(e).substring(0,2),16),a=function(e){return parseInt(r(e).substring(2,4),16)}(e),n=function(e){return parseInt(r(e).substring(4,6),16)}(e);function r(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*t+587*a+114*n)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,t){var a=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);a=parseInt(a*(100+t)/100),n=(n=parseInt(n*(100+t)/100))<255?n:255,r=(r=parseInt(r*(100+t)/100))<255?r:255;var i=1===(a=a<255?a:255).toString(16).length?"0".concat(a.toString(16)):a.toString(16),o=1===n.toString(16).length?"0".concat(n.toString(16)):n.toString(16),s=1===r.toString(16).length?"0".concat(r.toString(16)):r.toString(16);return"#".concat(i).concat(o).concat(s)}},{key:"rgbaToHex",value:function(e){var t=function(e){return e.replace(/^\s+|\s+$/gm,"")},a=e.substring(e.indexOf("(")).split(","),n=parseInt(t(a[0].substring(1)),10),r=parseInt(t(a[1]),10),i=parseInt(t(a[2]),10),o=parseFloat(t(a[3].substring(0,a[3].length-1))).toFixed(2),s=[n.toString(16),r.toString(16),i.toString(16),Math.round(255*o).toString(16).substring(0,2)];return s.forEach((function(e,t){1===e.length&&(s[t]="0"+e)})),"#".concat(s.join(""))}},{key:"getSignNum",value:function(e,t,a){return e>0?t:e<0?a:null}},{key:"antdTableSorter",value:function(e,t,a){return"number"===typeof e[a]&&"number"===typeof t[a]?e[a]-t[a]:"string"===typeof e[a]&&"string"===typeof t[a]?(e=e[a].toLowerCase())>(t=t[a].toLowerCase())?-1:t>e?1:0:void 0}},{key:"filterArray",value:function(e,t,a){var n=e;return e&&(n=e.filter((function(e){return e[t]===a}))),n}},{key:"deleteArrayRow",value:function(e,t,a){var n=e;return e&&(n=e.filter((function(e){return e[t]!==a}))),n}},{key:"wildCardSearch",value:function(e,t){return e=e.filter((function(e){return function(e){for(var a in e)if(null!=e[a]&&-1!==e[a].toString().toUpperCase().indexOf(t.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var t=[];for(var a in e){if(e.hasOwnProperty(a))e[a]&&t.push(a)}return t}}]),e}();t.Z=i},7214:function(e,t,a){a.r(t),a.d(t,{User:function(){return j}});var n=a(4165),r=a(1413),i=a(5861),o=a(9439),s=a(2791),l=a(2999),m=a(7615),c=a(7888),u=a(2835),p=a(7354),d=a(3248),g=a(7828),f=a(8470),h=a(7007),b=a(1730),y=a(9286),v=a(2703),S=a(5754),k=a(3983),w=a(184),x=l.Z.Option,j=function(){var e=m.Z.useForm(),t=(0,o.Z)(e,1)[0],a=(0,s.useState)(k),j=(0,o.Z)(a,2),Z=j[0],I=j[1],P=(0,s.useState)([]),_=(0,o.Z)(P,2),C=(_[0],_[1]),U=(0,s.useState)([]),N=(0,o.Z)(U,2),O=N[0],L=N[1],F=(0,s.useState)(!1),A=(0,o.Z)(F,2),E=A[0],R=A[1],T=(0,s.useState)([]),M=(0,o.Z)(T,2),H=M[0],K=M[1],q=(0,s.useState)([]),B=(0,o.Z)(q,2),D=B[0],Y=B[1],J=(0,s.useState)(),z=(0,o.Z)(J,2),G=z[0],V=z[1],W=(0,s.useState)([]),X=(0,o.Z)(W,2),$=X[0],Q=X[1],ee=(0,s.useState)(localStorage.getItem("role")||""),te=(0,o.Z)(ee,2),ae=te[0],ne=te[1];(0,s.useEffect)((function(){ne(re())}),[]);var re=function(){return localStorage.getItem("role")},ie=localStorage.getItem("admin_id"),oe=localStorage.getItem("distributor_id"),se=localStorage.getItem("dealer_id"),le=localStorage.getItem("subdealer_id"),me=localStorage.getItem("id"),ce=re(),ue=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var i,o,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,r.Z)((0,r.Z)({},a),{},{admin_id:ie,distributor_id:oe,dealer_id:se,subdealer_id:le,created_by:me,role_id:ce}),console.log("Form values:",i),e.prev=2,e.next=5,h.ZP.post("point",i);case 5:t.resetFields(),alert("Point Saved Successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&403===e.t0.response.status&&(o=e.t0.response.data,alert(o.message),o.message&&"object"===typeof o.message&&(s=o.message,alert(s)));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();function pe(){return pe=(0,i.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.ZP.get("plan");case 3:(a=e.sent).data.success?t(a.data.data):console.error("API request was not successful"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching countries:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),pe.apply(this,arguments)}function de(){return de=(0,i.Z)((0,n.Z)().mark((function e(t){var a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user_id:me,role_id:ce},e.prev=1,e.next=4,h.ZP.post("user_point_list",a);case 4:r=e.sent,console.log(r),r.data.success?t(r.data.data):console.error("API request was not successful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),de.apply(this,arguments)}function ge(){return ge=(0,i.Z)((0,n.Z)().mark((function e(t){var a,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={user_id:me,role_id:ce},e.next=4,h.ZP.post("point_stock_list",a);case 4:(r=e.sent).data&&Array.isArray(r.data.data)?(i=r.data.data.map((function(e){return{id:e.id,point_type:e.point_type,package_code:e.package_code,package_name:e.package_name,period_name:e.period_name,period_days:e.period_days,name:e.name,total_point:e.total_point}})),console.log(i),t(i)):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),ge.apply(this,arguments)}(0,s.useEffect)((function(){!function(e){pe.apply(this,arguments)}(Q),function(e){de.apply(this,arguments)}(Y),function(e){ge.apply(this,arguments)}(K)}),[]);var fe={onChange:function(e,t){C(t),L(e)}};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(c.Z,{title:"Points",children:[(0,w.jsxs)(f.Z,{alignItems:"center",justifyContent:"space-between",mobileFlex:!1,children:[(0,w.jsxs)(f.Z,{className:"mb-1",mobileFlex:!1,children:[(0,w.jsx)("div",{className:"mr-md-3 mb-3",children:(0,w.jsx)(u.Z,{placeholder:"Search",prefix:(0,w.jsx)(b.Z,{}),onChange:function(e){return function(e){var t=e.currentTarget.value,a=e.currentTarget.value?Z:S,n=v.Z.wildCardSearch(a,t);I(n),L([])}(e)}})}),(0,w.jsx)("div",{className:"mb-3"})]}),5!=ae&&(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsx)(p.ZP,{type:"primary",icon:(0,w.jsx)(y.Z,{}),onClick:function(){R(!0)},ghost:!0,children:"Add Points"})})]}),(0,w.jsx)("div",{className:"table-responsive",children:(0,w.jsx)(d.Z,{bordered:!0,columns:[{title:"Point Type",dataIndex:"point_type"},{title:"Package Code",dataIndex:"package_code"},{title:"Package Name",dataIndex:"package_name"},{title:"Period Name",dataIndex:"period_name"},{title:"Period Days",dataIndex:"period_days"},{title:"Total Points",dataIndex:"total_point"},{title:"Name",dataIndex:"name"}],dataSource:H,rowKey:"id",rowSelection:(0,r.Z)({selectedRowKeys:O,type:"checkbox",preserveSelectedRowKeys:!1},fe)})})]}),(0,w.jsxs)(g.Z,{placement:"right",closable:!1,onClose:function(){R(!1)},open:E,children:[(0,w.jsxs)("div",{className:"container",children:[(0,w.jsx)("h2",{children:"Point Info"}),(0,w.jsxs)(m.Z,{name:"registrationForm",onFinish:ue,layout:"vertical",form:t,children:[(0,w.jsx)(m.Z.Item,{label:"User",name:"user_id",rules:[{required:!0,message:"Please Select Plan"}],children:(0,w.jsx)(l.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",value:Y,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(D)?D.map((function(e){return(0,w.jsx)(x,{value:e.id,children:e.name},e.id)})):(0,w.jsx)(x,{value:"Loading",children:"Loading..."})})}),(0,w.jsx)(m.Z.Item,{label:"Point Type",name:"point_type_id",rules:[{required:!0,message:"Please Select Point Type"}],children:(0,w.jsxs)(l.Z,{children:[(0,w.jsx)(x,{value:"1",children:"New Point"}),(0,w.jsx)(x,{value:"2",children:"Recharge Point"})]})}),(0,w.jsx)(m.Z.Item,{label:"Plan",name:"plan_id",rules:[{required:!0,message:"Please Select Plan"}],children:(0,w.jsx)(l.Z,{showSearch:!0,optionFilterProp:"children",allowClear:!0,onChange:function(e){V(e)},value:G,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray($)?$.map((function(e){return(0,w.jsx)(x,{value:e.id,children:e.package_name+"  -  "+e.period_name},e.id)})):(0,w.jsx)(x,{value:"Loading",children:"Loading..."})})}),(0,w.jsx)(m.Z.Item,{label:"Points",name:"total_point",rules:[{required:!0,message:"Please Enter Points"}],children:(0,w.jsx)(u.Z,{type:"number",max:100})}),(0,w.jsx)(m.Z.Item,{children:(0,w.jsx)(p.ZP,{type:"primary",htmlType:"submit",children:"Save"})})]})]}),(0,w.jsx)("span",{id:"pnt_span",style:{color:"red",fontSize:"12px",fontWeight:"bold",fontFamily:"sans-serif"}})]})]})};t.default=j},5754:function(e){e.exports=JSON.parse('[{"id":"#5331","name":"Eileen Horton","image":"/img/avatars/thumb-1.jpg","date":1573430400,"amount":677,"paymentStatus":"Paid","orderStatus":"Ready"},{"id":"#5328","name":"Terrance Moreno","image":"/img/avatars/thumb-2.jpg","date":1572393600,"amount":1328.35,"paymentStatus":"Paid","orderStatus":"Ready"},{"id":"#5321","name":"Ron Vargas","image":"/img/avatars/thumb-3.jpg","date":1593949805,"amount":629,"paymentStatus":"Paid","orderStatus":"Shipped"},{"id":"#5287","name":"Luke Cook","image":"/img/avatars/thumb-4.jpg","date":1579132800,"amount":25.9,"paymentStatus":"Paid","orderStatus":"Shipped"},{"id":"#5351","name":"Joyce Freeman","image":"/img/avatars/thumb-5.jpg","date":1591286400,"amount":817.5,"paymentStatus":"Pending","orderStatus":"Ready"},{"id":"#5285","name":"Samantha Phillips","image":"/img/avatars/thumb-6.jpg","date":1591459200,"amount":47.9,"paymentStatus":"Paid","orderStatus":"Shipped"},{"id":"#5290","name":"Tara Fletcher","image":"/img/avatars/thumb-7.jpg","date":1591459200,"amount":300,"paymentStatus":"Pending","orderStatus":"Ready"},{"id":"#5337","name":"Frederick Adams","image":"/img/avatars/thumb-8.jpg","date":1589644800,"amount":730,"paymentStatus":"Expired","orderStatus":"Ready"},{"id":"#5297","name":"Carolyn Hanson","image":"/img/avatars/thumb-9.jpg","date":1590508800,"amount":827,"paymentStatus":"Paid","orderStatus":"Shipped"},{"id":"#5298","name":"Brittany Hale","image":"/img/avatars/thumb-10.jpg","date":1590336000,"amount":1866,"paymentStatus":"Paid","orderStatus":"Shipped"},{"id":"#5301","name":"Lloyd Obrien","image":"/img/avatars/thumb-11.jpg","date":1593532800,"amount":269,"paymentStatus":"Paid","orderStatus":"Shipped"},{"id":"#5304","name":"Gabriella May","image":"/img/avatars/thumb-12.jpg","date":1593619200,"amount":180,"paymentStatus":"Paid","orderStatus":"Shipped"}]')},3983:function(e){e.exports=JSON.parse('[{"id":"eileenHorton-1153","name":"Eileen Horton","email":"eileen_h@hotmail.com","img":"/img/avatars/thumb-1.jpg","role":"Admin","lastOnline":1573430400,"status":"active","personalInfo":{"location":"New York, US","title":"Product Manager","birthday":"10/10/1992","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"terranceMoreno-1322","name":"Terrance Moreno","email":"","img":"/img/avatars/thumb-2.jpg","role":"User","lastOnline":1572393600,"status":"active","personalInfo":{"location":"New York, US","title":"Software Engineer","birthday":"03/02/1984","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"ronVargas7653","name":"Ron Vargas","email":"ronnie_vergas@infotech.io","img":"/img/avatars/thumb-3.jpg","role":"User","lastOnline":1572393600,"status":"blocked","personalInfo":{"location":"New York, US","title":"UI/UX Designer","birthday":"07/11/1987","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"lukeCook4721","name":"Luke Cook","email":"cookie_lukie@hotmail.com","img":"/img/avatars/thumb-4.jpg","role":"Admin","lastOnline":1579132800,"status":"active","personalInfo":{"location":"New York, US","title":"HR Executive","birthday":"07/11/1987","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"joyceFreeman1384","name":"Joyce Freeman","email":"joyce991@infotech.io","img":"/img/avatars/thumb-5.jpg","role":"User","lastOnline":1582416000,"status":"active","personalInfo":{"location":"New York, US","title":"Frontend Developer","birthday":"17/11/1993","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"samanthaPhillips8493","name":"Samantha Phillips","email":"samanthaphil@infotech.io","img":"/img/avatars/thumb-6.jpg","role":"User","lastOnline":1583107200,"status":"active","personalInfo":{"location":"London, UK","title":"Compliance Manager","birthday":"17/11/1993","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"taraFletcher1263","name":"Tara Fletcher","email":"taratarara@imaze.edu.du","img":"/img/avatars/thumb-7.jpg","role":"User","lastOnline":1582761600,"status":"active","personalInfo":{"location":"London, UK","title":"Compliance Manager","birthday":"17/11/1993","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"frederickAdams6532","name":"Frederick Adams","email":"iamfred@imaze.infotech.io","img":"/img/avatars/thumb-8.jpg","role":"User","lastOnline":1579219200,"status":"blocked","personalInfo":{"location":"London, UK","title":"Compliance Manager","birthday":"17/11/1993","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"carolynHanson7953","name":"Carolyn Hanson","email":"carolyn_h@gmail.com","img":"/img/avatars/thumb-9.jpg","role":"User","lastOnline":1584489600,"status":"blocked","personalInfo":{"location":"Texas, US","title":"Compliance Manager","birthday":"03/06/1991","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"brittanyHale3683","name":"Brittany Hale","email":"brittany1134@gmail.com","img":"/img/avatars/thumb-10.jpg","role":"User","lastOnline":1583452800,"status":"active","personalInfo":{"location":"Texas, US","title":"Compliance Manager","birthday":"03/06/1991","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"lloydObrien1564","name":"Lloyd Obrien","email":"handsome-obrien@hotmail.com","img":"/img/avatars/thumb-11.jpg","role":"User","lastOnline":1584576000,"status":"active","personalInfo":{"location":"London, UK","title":"Software Engineer","birthday":"03/06/1991","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"gabriellaMay2850","name":"Gabriella May","email":"maymaymay12@infotech.io","img":"/img/avatars/thumb-12.jpg","role":"User","lastOnline":1574208000,"status":"blocked","personalInfo":{"location":"London, UK","title":"Software Engineer","birthday":"03/06/1991","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"leeWheeler1941","name":"Lee Wheeler","email":"","img":"/img/avatars/thumb-13.jpg","role":"User","lastOnline":1586649600,"status":"active","personalInfo":{"location":"London, UK","title":"Software Engineer","birthday":"03/06/1991","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"gailBarnes7615","name":"Gail Barnes","email":"gailby0116@infotech.io","img":"/img/avatars/thumb-14.jpg","role":"User","lastOnline":1583020800,"status":"active","personalInfo":{"location":"London, UK","title":"Software Engineer","birthday":"03/06/1991","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}},{"id":"ellaRobinson1093","name":"Ella Robinson","email":"ella_robinson@infotech.io","img":"/img/avatars/thumb-15.jpg","role":"User","lastOnline":1586217600,"status":"active","personalInfo":{"location":"London, UK","title":"Software Engineer","birthday":"03/06/1991","phoneNumber":"+12-123-1234","facebook":"facebook.com/sample","twitter":"twitter.com/sample","instagram":"instagram.com/sample","site":"samplesite.com"}}]')}}]);
//# sourceMappingURL=214.7ccdfbda.chunk.js.map