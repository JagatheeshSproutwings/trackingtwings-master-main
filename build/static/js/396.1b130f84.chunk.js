"use strict";(self.webpackChunkemilus=self.webpackChunkemilus||[]).push([[396],{8470:function(e,t,n){var r=n(1413),i=n(4236).Z.div((function(e){var t=e.justifyContent,n=e.alignItems,i=e.flexDirection,l=e.gap,a=e.padding,s=e.margin,o={display:"flex",justifyContent:t,alignItems:n,gap:"number"===typeof l?"".concat(l,"px"):l};return i&&(o.flexDirection=i),a&&(o.padding=a),s&&(o.margin=s),(0,r.Z)({},o)}));t.Z=i},2703:function(e,t,n){var r=n(5671),i=n(3144),l=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"getNameInitial",value:function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()}},{key:"getRouteInfo",value:function(e,t){if(e.path===t)return e;var n;for(var r in e)if(e.hasOwnProperty(r)&&"object"===typeof e[r]&&(n=this.getRouteInfo(e[r],t)))return n;return n}},{key:"getColorContrast",value:function(e){if(!e)return"dark";var t=parseInt(i(e).substring(0,2),16),n=function(e){return parseInt(i(e).substring(2,4),16)}(e),r=function(e){return parseInt(i(e).substring(4,6),16)}(e);function i(e){return"#"===e.charAt(0)?e.substring(1,7):e}return(299*t+587*n+114*r)/1e3>130?"dark":"light"}},{key:"shadeColor",value:function(e,t){var n=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),i=parseInt(e.substring(5,7),16);n=parseInt(n*(100+t)/100),r=(r=parseInt(r*(100+t)/100))<255?r:255,i=(i=parseInt(i*(100+t)/100))<255?i:255;var l=1===(n=n<255?n:255).toString(16).length?"0".concat(n.toString(16)):n.toString(16),a=1===r.toString(16).length?"0".concat(r.toString(16)):r.toString(16),s=1===i.toString(16).length?"0".concat(i.toString(16)):i.toString(16);return"#".concat(l).concat(a).concat(s)}},{key:"rgbaToHex",value:function(e){var t=function(e){return e.replace(/^\s+|\s+$/gm,"")},n=e.substring(e.indexOf("(")).split(","),r=parseInt(t(n[0].substring(1)),10),i=parseInt(t(n[1]),10),l=parseInt(t(n[2]),10),a=parseFloat(t(n[3].substring(0,n[3].length-1))).toFixed(2),s=[r.toString(16),i.toString(16),l.toString(16),Math.round(255*a).toString(16).substring(0,2)];return s.forEach((function(e,t){1===e.length&&(s[t]="0"+e)})),"#".concat(s.join(""))}},{key:"getSignNum",value:function(e,t,n){return e>0?t:e<0?n:null}},{key:"antdTableSorter",value:function(e,t,n){return"number"===typeof e[n]&&"number"===typeof t[n]?e[n]-t[n]:"string"===typeof e[n]&&"string"===typeof t[n]?(e=e[n].toLowerCase())>(t=t[n].toLowerCase())?-1:t>e?1:0:void 0}},{key:"filterArray",value:function(e,t,n){var r=e;return e&&(r=e.filter((function(e){return e[t]===n}))),r}},{key:"deleteArrayRow",value:function(e,t,n){var r=e;return e&&(r=e.filter((function(e){return e[t]!==n}))),r}},{key:"wildCardSearch",value:function(e,t){return e=e.filter((function(e){return function(e){for(var n in e)if(null!=e[n]&&-1!==e[n].toString().toUpperCase().indexOf(t.toString().toUpperCase()))return!0}(e)}))}},{key:"getBreakPoint",value:function(e){var t=[];for(var n in e){if(e.hasOwnProperty(n))e[n]&&t.push(n)}return t}}]),e}();t.Z=l},8396:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(4165),i=n(5861),l=n(9439),a=n(2791),s=n(2999),o=n(7615),u=n(6090),d=n(7309),c=n(7888),h=n(6106),v=n(2835),p=n(914),m=n(9004),x=n(7828),f=n(43),Z=n(1717),_=n(9286),j=n(7007),g=n(3099),y=n(2385),S=n(3388),w=(n(6988),n(8470)),I=n(7295),b=n(2414),k=n(1730),P=n(5987),C=n(814),A=n(184),F=["parentToChild"],V=function(e){var t=e.parentToChild,n=(0,P.Z)(e,F),s=o.Z.useForm(),c=(0,l.Z)(s,1)[0],m=(0,a.useState)(!0),x=(0,l.Z)(m,2),f=x[0],Z=x[1],_=function(){Z(!1)},g=function(e,t,n){u.Z[e]({message:t,description:n})},y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.ZP.post("config/store",t);case 3:c.resetFields(),n.parentFunction(),g("success","Vehicle","Vehicle Settings Saved Successfully!"),_(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&403===e.t0.response.status&&e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,A.jsx)(h.Z,{gutter:6,children:(0,A.jsx)(p.Z,{children:(0,A.jsx)(w.Z,{children:(0,A.jsx)("div",{className:"container",children:(0,A.jsx)(C.Z,{title:"Vehicle Settings",visible:f,onOk:_,onCancel:function(){Z(!1)},footer:null,children:(0,A.jsxs)(o.Z,{form:c,size:"small",name:"settings_form",onFinish:y,children:[(0,A.jsxs)(h.Z,{gutter:[8,8],children:[(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{name:"vehicle_id",hidden:!0,initialValue:t.vehicle_id,children:(0,A.jsx)(v.Z,{type:"text"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{name:"device_imei",hidden:!0,initialValue:t.device_imei,children:(0,A.jsx)(v.Z,{type:"text"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{size:"small",label:"Parking Alert Time",name:"parking_alert_time",initialValue:t.parking_alert_time,children:(0,A.jsx)(v.Z,{placeholder:"Parking Alert Time"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{size:"small",label:"Idle Alert Time",name:"idle_alert_time",initialValue:t.idle_alert_time,children:(0,A.jsx)(v.Z,{placeholder:"Idle Alert Time"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{label:"Speed Limit",name:"speed_limit",initialValue:t.speed_limit,children:(0,A.jsx)(v.Z,{placeholder:"Speed Limit"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{label:"Expected Mileage",name:"expected_mileage",initialValue:t.expected_mileage,children:(0,A.jsx)(v.Z,{placeholder:"Expected Mileage"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{label:"Idle RPM",name:"idle_rpm",initialValue:t.idle_rpm,children:(0,A.jsx)(v.Z,{placeholder:"Idle RPM"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{label:"Maximum RPM",name:"max_rpm",initialValue:t.max_rpm,children:(0,A.jsx)(v.Z,{placeholder:"Maximum RPM"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{name:"temp_low",label:"Minimum Temp",initialValue:t.temp_low,children:(0,A.jsx)(v.Z,{placeholder:"Minimum Temperature"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{name:"temp_high",label:"Maximum Temp",initialValue:t.temp_high,children:(0,A.jsx)(v.Z,{placeholder:"Maximum Temperature"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{label:"Fuel Fill Limit",name:"fuel_fill_limit",initialValue:t.fuel_fill_limit,children:(0,A.jsx)(v.Z,{placeholder:"Fuel Fill Limit"})})}),(0,A.jsx)(p.Z,{sm:12,md:12,lg:12,children:(0,A.jsx)(o.Z.Item,{label:"Fuel Dip Limit",name:"fuel_dip_limit",initialValue:t.fuel_dip_limit,children:(0,A.jsx)(v.Z,{placeholder:"Fuel Dip Limit"})})})]}),(0,A.jsx)(o.Z.Item,{children:(0,A.jsx)(d.ZP,{type:"primary",htmlType:"submit",children:"Save"})})]})})})})})})},O=n(2703),D=s.Z.Option,L=function(){var e=o.Z.useForm(),t=(0,l.Z)(e,1)[0],n=(0,a.useState)(!1),P=(0,l.Z)(n,2),C=P[0],F=P[1],L=(0,a.useState)(!1),M=(0,l.Z)(L,2),T=M[0],E=M[1],N=(0,a.useState)(""),q=(0,l.Z)(N,2),R=q[0],z=q[1],U=(0,a.useState)(!1),Y=(0,l.Z)(U,2),B=Y[0],H=Y[1],K=function(){H(!1)},$=function(e,t,n){u.Z[e]({message:t,description:n})},G=(0,a.useState)([]),J=(0,l.Z)(G,2),Q=(J[0],J[1]),W=(0,a.useState)([]),X=(0,l.Z)(W,2),ee=(X[0],X[1],(0,a.useState)([])),te=(0,l.Z)(ee,2),ne=te[0],re=te[1],ie=(0,a.useState)([]),le=(0,l.Z)(ie,2),ae=le[0],se=le[1],oe=(0,a.useState)([]),ue=(0,l.Z)(oe,2),de=ue[0],ce=ue[1],he=(0,a.useState)([]),ve=(0,l.Z)(he,2),pe=ve[0],me=ve[1],xe=(0,a.useState)([]),fe=(0,l.Z)(xe,2),Ze=fe[0],_e=fe[1],je=(0,a.useState)([]),ge=(0,l.Z)(je,2),ye=ge[0],Se=ge[1],we=(0,a.useState)(localStorage.getItem("id")||""),Ie=(0,l.Z)(we,2),be=Ie[0],ke=Ie[1],Pe=(0,a.useState)([]),Ce=(0,l.Z)(Pe,2),Ae=Ce[0],Fe=Ce[1],Ve=(0,a.useState)([]),Oe=(0,l.Z)(Ve,2),De=Oe[0],Le=Oe[1],Me=(0,a.useState)([]),Te=(0,l.Z)(Me,2),Ee=Te[0],Ne=Te[1],qe=(0,a.useState)(""),Re=(0,l.Z)(qe,2),ze=Re[0],Ue=Re[1],Ye=(0,a.useState)([]),Be=(0,l.Z)(Ye,2),He=Be[0],Ke=Be[1],$e=(0,a.useState)([]),Ge=(0,l.Z)($e,2),Je=Ge[0],Qe=Ge[1],We=(0,a.useState)([]),Xe=(0,l.Z)(We,2),et=Xe[0],tt=Xe[1],nt=(0,a.useState)(""),rt=(0,l.Z)(nt,2),it=rt[0],lt=rt[1],at=(0,a.useState)(""),st=(0,l.Z)(at,2),ot=st[0],ut=st[1],dt=(0,a.useState)(""),ct=(0,l.Z)(dt,2),ht=ct[0],vt=ct[1],pt=(0,a.useState)(""),mt=(0,l.Z)(pt,2),xt=mt[0],ft=mt[1],Zt=(0,a.useState)(""),_t=(0,l.Z)(Zt,2),jt=_t[0],gt=_t[1],yt=(0,a.useState)(localStorage.getItem("id")||""),St=(0,l.Z)(yt,2),wt=St[0],It=St[1],bt=(0,a.useState)(localStorage.getItem("role")||""),kt=(0,l.Z)(bt,2),Pt=kt[0],Ct=kt[1],At=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i,l,a,s,o,u,d,c,h,v,p,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user_id:wt},e.next=3,j.ZP.post("role_based_user_list",t).then((function(e){return e})).catch((function(e){return[]}));case 3:n=e.sent,1==Pt&&re(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list),2==Pt&&se(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.user_list),3==Pt&&ce(null===n||void 0===n||null===(o=n.data)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.user_list),4==Pt&&(_e(null===n||void 0===n||null===(d=n.data)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.user_list),me(null===n||void 0===n||null===(h=n.data)||void 0===h||null===(v=h.data)||void 0===v?void 0:v.subdealer_list)),5==Pt&&_e(null===n||void 0===n||null===(p=n.data)||void 0===p||null===(m=p.data)||void 0===m?void 0:m.user_list);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){It(localStorage.getItem("id")),Ct(localStorage.getItem("role")),At(),Ut(),Ht(),Yt(),Bt()}),[]);var Ft=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,l,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setFieldValue(""),se([]),ce([]),me([]),_e([]),null==n){e.next=11;break}return a={user_id:n},e.next=9,j.ZP.post("role_based_user_list",a).then((function(e){return e})).catch((function(e){return e}));case 9:s=e.sent,se(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,l,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setFieldValue(""),ce(""),me(""),_e(""),null==n){e.next=10;break}return a={user_id:n},e.next=8,j.ZP.post("role_based_user_list",a).then((function(e){return e})).catch((function(e){return e}));case 8:s=e.sent,ce(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,l,a,s,o,u,d,c,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setFieldValue(""),me([]),_e([]),Se([]),Ne([]),tt([]),null==n){e.next=26;break}return o={user_id:n},e.next=10,j.ZP.post("role_based_user_list",o).then((function(e){return e})).catch((function(e){return e}));case 10:return u=e.sent,_e(null===u||void 0===u||null===(i=u.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list),me(null===u||void 0===u||null===(a=u.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.subdealer_list),ke(n),e.next=16,j.ZP.post("user_plan_list",o).then((function(e){return e})).catch((function(e){return e}));case 16:return d=e.sent,Se(null===d||void 0===d?void 0:d.data.data),e.next=20,j.ZP.post("sim_stock_list",o).then((function(e){return e})).catch((function(e){return e}));case 20:return c=e.sent,Ne(null===c||void 0===c?void 0:c.data.data),e.next=24,j.ZP.post("device_stock_list",o).then((function(e){return e})).catch((function(e){return e}));case 24:h=e.sent,tt(null===h||void 0===h?void 0:h.data.data);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,l,a,s,o,u,d,c,h,v,p,m,x,f,Z,_;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setFieldValue(""),_e(""),Se(""),Fe(""),Ne(""),tt(""),lt(""),ft(""),gt(""),Ue(""),null==n){e.next=31;break}return a={user_id:n},e.next=14,j.ZP.post("role_based_user_list",a).then((function(e){return e})).catch((function(e){return e}));case 14:return s=e.sent,_e(null===s||void 0===s||null===(i=s.data)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.user_list),ke(n),e.next=19,j.ZP.post("user_plan_list",a).then((function(e){return e})).catch((function(e){return e}));case 19:return o=e.sent,Se(null===o||void 0===o?void 0:o.data.data),e.next=23,j.ZP.post("sim_stock_list",a).then((function(e){return e})).catch((function(e){return e}));case 23:return u=e.sent,Ne(null===u||void 0===u?void 0:u.data.data),e.next=27,j.ZP.post("device_stock_list",a).then((function(e){return e})).catch((function(e){return e}));case 27:d=e.sent,tt(null===d||void 0===d?void 0:d.data.data),e.next=53;break;case 31:if(alert(Pt),alert(wt),4!=Pt){e.next=53;break}return m={user_id:wt},e.next=37,j.ZP.post("role_based_user_list",m).then((function(e){return e})).catch((function(e){return e}));case 37:return x=e.sent,_e(null===x||void 0===x||null===(c=x.data)||void 0===c||null===(h=c.data)||void 0===h?void 0:h.user_list),me(null===x||void 0===x||null===(v=x.data)||void 0===v||null===(p=v.data)||void 0===p?void 0:p.subdealer_list),ke(wt),e.next=43,j.ZP.post("user_plan_list",m).then((function(e){return e})).catch((function(e){return e}));case 43:return f=e.sent,Se(null===f||void 0===f?void 0:f.data.data),e.next=47,j.ZP.post("sim_stock_list",m).then((function(e){return e})).catch((function(e){return e}));case 47:return Z=e.sent,Ne(null===Z||void 0===Z?void 0:Z.data.data),e.next=51,j.ZP.post("device_stock_list",m).then((function(e){return e})).catch((function(e){return e}));case 51:_=e.sent,tt(null===_||void 0===_?void 0:_.data.data);case 53:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le([]),e.next=3,j.ZP.get("vehicle_type").then((function(e){return e})).catch((function(e){return e}));case 3:n=e.sent,Le(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fe([]),null==t){e.next=9;break}return n={user_id:be,plan_id:t},e.next=5,j.ZP.post("user_license_list",n).then((function(e){return e})).catch((function(e){return e}));case 5:i=e.sent,Fe(null===i||void 0===i?void 0:i.data.data),e.next=10;break;case 9:alert("s");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,l,a,s,o,u,d,c,h,v,p,m,x,f,Z;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lt(""),ut(""),vt(""),ft(""),gt(""),e.prev=5,e.next=8,j.ZP.get("device/".concat(t));case 8:v=e.sent,p=null===v||void 0===v||null===(n=v.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.uid,m=null===v||void 0===v||null===(l=v.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.device_make_id,x=null===v||void 0===v||null===(s=v.data)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.device_model_id,f=null===v||void 0===v||null===(u=v.data)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.device_make,Z=null===v||void 0===v||null===(c=v.data)||void 0===c||null===(h=c.data)||void 0===h?void 0:h.device_model,p&&(lt(p),ut(m),vt(x),ft(f),gt(Z)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.error("Error fetching device data:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,l,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ue(""),e.prev=1,e.next=4,j.ZP.get("sim/".concat(t));case 4:l=e.sent,(a=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.sim_imei_no)&&Ue(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching device data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),n.user_id=wt,i=new Date(n.installation_date),n.installation_date=i.toISOString().split("T")[0],e.next=7,j.ZP.post("vehicle",n);case 7:t.resetFields(),F(!1),$("success","Vehicle","Vehicle Added Successfully!"),Ut(),Ue(""),lt(""),ft(""),gt(""),K(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),F(!1),e.t0.response&&403===e.t0.response.status&&e.t0.response.data;case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),qt=[{title:"id",dataIndex:"id"},{title:"Type",dataIndex:"vehicle_type"},{title:"Vehicle No",dataIndex:"vehicle_name"},{title:"Sim No",dataIndex:"sim_mob_no"},{title:"Device IMEI",dataIndex:"device_imei"},{title:"License No",dataIndex:"license_no"},{title:"Installation Date",dataIndex:"installation_date"},{title:"Expire Date",dataIndex:"expire_date"},{title:"Client Name",dataIndex:"client_name"},{title:"Actions",key:"actions",fixed:"right",render:function(e,t){return(0,A.jsx)(g.Z,{size:"middle",children:(0,A.jsx)(y.Z,{overlay:Rt(t),placement:"bottomLeft",children:(0,A.jsxs)(d.ZP,{children:["Actions ",(0,A.jsx)(I.Z,{})]})})})}}],Rt=function(e){return(0,A.jsx)(S.Z,{children:(0,A.jsx)(S.Z.Item,{icon:(0,A.jsx)(b.Z,{}),onClick:function(){return zt(e)},children:"Settings"},"config")})},zt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,l,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={vehicle_id:t.id,device_imei:t.device_imei},e.next=4,j.ZP.post("config/show",n);case 4:i=e.sent,console.log("API Response:",i),200===i.status?(l=i.data).success?(a=l.data,z(a),E(!0)):alert("API request was successful, but the response indicates an error."):alert("API request failed with status code: "+i.status),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={user_id:wt},e.next=4,j.ZP.post("vehicle_list",t);case 4:(n=e.sent).data&&Array.isArray(n.data.data)?(i=n.data.data.map((function(e){return{id:e.id,vehicle_type:e.vehicle_type,vehicle_name:e.vehicle_name,sim_mob_no:e.sim_mob_no,device_imei:e.device_imei,license_no:e.license_no,installation_date:e.installation_date,expire_date:e.expire_date,client_name:e.client_name}})),Ke(i),Qe(i)):console.error("API request was not successful"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Yt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ne([]),t={user_id:wt},e.next=5,j.ZP.post("sim_stock_list",t);case 5:(n=e.sent).data&&Array.isArray(n.data.data)?Ne(null===n||void 0===n?void 0:n.data.data):console.error("API request was not successful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Bt=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,tt([]),t={user_id:wt},e.next=5,j.ZP.post("device_stock_list",t);case 5:(n=e.sent).data&&Array.isArray(n.data.data)?tt(null===n||void 0===n?void 0:n.data.data):console.error("API request was not successful"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Ht=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Se([]),n={user_id:wt},e.next=4,j.ZP.post("user_plan_list",n).then((function(e){return e})).catch((function(e){return e}));case 4:i=e.sent,Se(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)("div",{children:[T&&(0,A.jsx)(V,{parentToChild:R,parentFunction:function(){E(!1)}}),(0,A.jsxs)(c.Z,{title:"Vehicle List",children:[(0,A.jsxs)(h.Z,{children:[(0,A.jsxs)(w.Z,{className:"mb-1",mobileFlex:!1,children:[(0,A.jsx)("div",{className:"mr-md-3 mb-3",children:(0,A.jsx)(v.Z,{placeholder:"Search",prefix:(0,A.jsx)(k.Z,{}),onChange:function(e){return function(e){var t=e.currentTarget.value,n=t?He:Je,r=O.Z.wildCardSearch(n,t);Ke(r),Q([])}(e)}})}),(0,A.jsx)("div",{className:"mb-3"})]}),(0,A.jsx)(p.Z,{span:4,children:(0,A.jsx)(d.ZP,{type:"primary",onClick:function(){H(!0)},icon:(0,A.jsx)(_.Z,{}),children:"Add Vehicle"})})]}),(0,A.jsx)(h.Z,{children:(0,A.jsx)("div",{className:"table-responsive",children:(0,A.jsx)(m.Z,{bordered:!0,columns:qt,dataSource:He,rowKey:"id"})})})]}),(0,A.jsx)(x.Z,{placement:"right",closable:!1,onClose:K,width:850,open:B,title:"Add Vehicle",children:(0,A.jsx)(f.Z,{spinning:C,delay:500,children:(0,A.jsxs)(o.Z,{form:t,name:"device_form",onFinish:Nt,children:[(0,A.jsx)("h5",{children:"Users Details:"}),(0,A.jsxs)(h.Z,{gutter:[10,10],children:[1==Pt&&(0,A.jsx)(p.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(o.Z.Item,{name:"admin_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:Ft,placeholder:"Select Admin",children:Array.isArray(ne)?ne.map((function(e){return(0,A.jsx)(s.Z.Option,{role_id:"2",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(1==Pt||2==Pt)&&(0,A.jsx)(p.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(o.Z.Item,{name:"distributor_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:Vt,placeholder:"Select Distributor",children:Array.isArray(ae)?ae.map((function(e){return(0,A.jsx)(D,{role_id:"3",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(D,{role_id:"3",value:""})})})}),(1==Pt||2==Pt||3==Pt)&&(0,A.jsx)(p.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(o.Z.Item,{name:"dealer_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:Ot,placeholder:"Select Dealer",children:Array.isArray(de)?de.map((function(e){return(0,A.jsx)(D,{role_id:"4",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(D,{role_id:"4",value:""})})})}),(1==Pt||2==Pt||3==Pt||4==Pt)&&(0,A.jsx)(p.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(o.Z.Item,{name:"subdealer_id",children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:Dt,placeholder:"Select SubDealer",children:Array.isArray(pe)&&pe.length>0?pe.map((function(e){return(0,A.jsx)(D,{role_id:"5",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(D,{})})})}),(1==Pt||2==Pt||3==Pt||4==Pt||5==Pt)&&(0,A.jsx)(p.Z,{sm:2,md:4,lg:4,xxl:4,children:(0,A.jsx)(o.Z.Item,{name:"client_id",rules:[{required:!0,message:"Please Select Client Name"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,optionFilterProp:"children",onChange:Lt,placeholder:"Select Client",children:Array.isArray(Ze)?Ze.map((function(e){return(0,A.jsx)(D,{role_id:"6",value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(D,{role_id:"6",value:""})})})})]}),(0,A.jsx)("h5",{children:"Licence Details:"}),(0,A.jsxs)(h.Z,{gutter:6,children:[(0,A.jsx)(p.Z,{sm:5,md:10,lg:10,xxl:10,children:(0,A.jsx)(o.Z.Item,{name:"plan_id",rules:[{required:!0,message:"Please Select Plan"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Plan",onChange:Mt,children:Array.isArray(ye)?ye.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.package_name},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{value:""})})})}),(0,A.jsx)(p.Z,{sm:5,md:10,lg:10,xxl:10,children:(0,A.jsx)(o.Z.Item,{name:"license_id",rules:[{required:!0,message:"Please Select License"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select License",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(Ae)?Ae.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.license_no},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})})]}),(0,A.jsx)("h5",{children:"Device Details :"}),(0,A.jsxs)(h.Z,{gutter:6,children:[(0,A.jsx)(p.Z,{sm:3,md:6,lg:6,xxl:6,children:(0,A.jsx)(o.Z.Item,{name:"device_id",rules:[{required:!0,message:"Please Select Device IMEI"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,onChange:Tt,placeholder:"Select Device IMEI",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(et)?et.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.device_imei_no},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(0,A.jsx)(p.Z,{sm:3,md:6,lg:6,xxl:6,children:(0,A.jsx)(o.Z.Item,{children:(0,A.jsx)(v.Z,{type:"text",value:it})})}),(0,A.jsxs)(p.Z,{sm:4,md:8,lg:8,xxl:8,children:[(0,A.jsx)("input",{type:"text",name:"device_make_id",hidden:!0,value:ot}),(0,A.jsx)("input",{type:"text",name:"device_model_id",hidden:!0,value:ht}),(0,A.jsx)(o.Z.Item,{children:(0,A.jsx)(v.Z,{type:"textarea",value:xt+"-"+jt})})]})]}),(0,A.jsx)("h5",{children:"SIM Details :"}),(0,A.jsxs)(h.Z,{gutter:6,children:[(0,A.jsx)(p.Z,{sm:5,md:10,lg:10,xxl:10,children:(0,A.jsx)(o.Z.Item,{name:"sim_id",rules:[{required:!0,message:"Please Select Sim Mobile No"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Sim",optionFilterProp:"children",onChange:Et,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(Ee)?Ee.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.sim_mob_no1},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{role_id:"2",value:""})})})}),(0,A.jsx)(o.Z.Item,{children:(0,A.jsx)(v.Z,{type:"text",value:ze})})]}),(0,A.jsx)("h5",{children:"Vehicle Details :"}),(0,A.jsxs)(h.Z,{gutter:6,children:[(0,A.jsx)(p.Z,{sm:5,md:10,lg:10,xxl:10,children:(0,A.jsx)(o.Z.Item,{name:"vehicle_type_id",rules:[{required:!0,message:"Please Select Vehicle Type"}],children:(0,A.jsx)(s.Z,{showSearch:!0,allowClear:!0,placeholder:"Select Vehicle Type",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:Array.isArray(De)?De.map((function(e){return(0,A.jsx)(s.Z.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.vehicle_type},null===e||void 0===e?void 0:e.id)})):(0,A.jsx)(s.Z.Option,{})})})}),(0,A.jsx)(p.Z,{sm:4,md:8,lg:8,xxl:8,children:(0,A.jsx)(o.Z.Item,{name:"vehicle_name",rules:[{required:!0,message:"Please Enter Vehicle Name"}],children:(0,A.jsx)(v.Z,{type:"text",name:"vehicle_name",placeholder:"Vehicle Name"})})}),(0,A.jsx)(p.Z,{sm:4,md:8,lg:8,xxl:8,children:(0,A.jsx)(o.Z.Item,{name:"installation_date",children:(0,A.jsx)(Z.Z,{required:!0,allowClear:!1,format:"YYYY-MM-DD",placeholder:"Installation Date"})})})]}),(0,A.jsx)(h.Z,{children:(0,A.jsx)(o.Z.Item,{children:(0,A.jsx)(d.ZP,{type:"primary",htmlType:"submit",children:"Save"})})})]})})})]})}}}]);
//# sourceMappingURL=396.1b130f84.chunk.js.map